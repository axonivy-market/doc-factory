[Ivy]
[>Created: Mon Oct 07 22:09:59 EDT 2013]
125FDB0198DDACE8 3.17 #module
>Proto >Proto Collection #zClass
Fs0 FileListTableProcess Big #zClass
Fs0 RD #cInfo
Fs0 #process
Fs0 @MessageFlowInP-0n messageIn messageIn #zField
Fs0 @MessageFlowOutP-0n messageOut messageOut #zField
Fs0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Fs0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Fs0 @TextInP .xml .xml #zField
Fs0 @TextInP .responsibility .responsibility #zField
Fs0 @TextInP .resExport .resExport #zField
Fs0 @TextInP .type .type #zField
Fs0 @TextInP .processKind .processKind #zField
Fs0 @AnnotationInP-0n ai ai #zField
Fs0 @RichDialogInitStart f0 '' #zField
Fs0 @RichDialogInitStart f3 '' #zField
Fs0 @RichDialogInitStart f4 '' #zField
Fs0 @RichDialogProcessStep f2 '' #zField
Fs0 @PushWFArc f5 '' #zField
Fs0 @PushWFArc f6 '' #zField
Fs0 @PushWFArc f7 '' #zField
Fs0 @RichDialogMethodStart f9 '' #zField
Fs0 @RichDialogMethodStart f10 '' #zField
Fs0 @RichDialogMethodStart f11 '' #zField
Fs0 @RichDialogMethodStart f12 '' #zField
Fs0 @RichDialogMethodStart f13 '' #zField
Fs0 @RichDialogMethodStart f14 '' #zField
Fs0 @RichDialogProcessEnd f15 '' #zField
Fs0 @PushWFArc f16 '' #zField
Fs0 @RichDialogProcessEnd f17 '' #zField
Fs0 @PushWFArc f18 '' #zField
Fs0 @RichDialogProcessEnd f19 '' #zField
Fs0 @PushWFArc f20 '' #zField
Fs0 @RichDialogProcessStep f21 '' #zField
Fs0 @PushWFArc f22 '' #zField
Fs0 @RichDialogProcessEnd f23 '' #zField
Fs0 @PushWFArc f24 '' #zField
Fs0 @RichDialogProcessStep f25 '' #zField
Fs0 @PushWFArc f26 '' #zField
Fs0 @RichDialogProcessEnd f27 '' #zField
Fs0 @PushWFArc f28 '' #zField
Fs0 @RichDialogProcessEnd f29 '' #zField
Fs0 @RichDialogProcessStep f31 '' #zField
Fs0 @PushWFArc f32 '' #zField
Fs0 @PushWFArc f30 '' #zField
Fs0 @RichDialogMethodStart f33 '' #zField
Fs0 @RichDialogProcessStart f35 '' #zField
Fs0 @RichDialogProcessEnd f36 '' #zField
Fs0 @RichDialogMethodStart f38 '' #zField
Fs0 @RichDialogProcessEnd f41 '' #zField
Fs0 @RichDialogMethodStart f43 '' #zField
Fs0 @RichDialogProcessStep f39 '' #zField
Fs0 @PushWFArc f40 '' #zField
Fs0 @RichDialogProcessEnd f42 '' #zField
Fs0 @PushWFArc f44 '' #zField
Fs0 @PushWFArc f45 '' #zField
Fs0 @RichDialogProcessStart f46 '' #zField
Fs0 @RichDialogProcessEnd f47 '' #zField
Fs0 @RichDialogProcessStart f49 '' #zField
Fs0 @RichDialogProcessEnd f50 '' #zField
Fs0 @RichDialogProcessStart f52 '' #zField
Fs0 @RichDialogMethodStart f59 '' #zField
Fs0 @RichDialogMethodStart f61 '' #zField
Fs0 @Alternative f62 '' #zField
Fs0 @PushWFArc f63 '' #zField
Fs0 @RichDialogProcessStep f64 '' #zField
Fs0 @PushWFArc f65 '' #zField
Fs0 @RichDialogProcessEnd f66 '' #zField
Fs0 @PushWFArc f68 '' #zField
Fs0 @RichDialogProcessStep f72 '' #zField
Fs0 @RichDialogProcessStep f74 '' #zField
Fs0 @PushWFArc f76 '' #zField
Fs0 @RichDialogProcessEnd f77 '' #zField
Fs0 @RichDialogProcessEnd f80 '' #zField
Fs0 @RichDialogMethodStart f82 '' #zField
Fs0 @RichDialogMethodStart f83 '' #zField
Fs0 @RichDialogMethodStart f84 '' #zField
Fs0 @RichDialogMethodStart f85 '' #zField
Fs0 @RichDialogProcessEnd f86 '' #zField
Fs0 @PushWFArc f87 '' #zField
Fs0 @RichDialogProcessStep f88 '' #zField
Fs0 @PushWFArc f89 '' #zField
Fs0 @RichDialogProcessEnd f90 '' #zField
Fs0 @PushWFArc f91 '' #zField
Fs0 @RichDialogProcessStep f92 '' #zField
Fs0 @PushWFArc f93 '' #zField
Fs0 @RichDialogProcessEnd f94 '' #zField
Fs0 @PushWFArc f95 '' #zField
Fs0 @RichDialogProcessStep f96 '' #zField
Fs0 @PushWFArc f97 '' #zField
Fs0 @RichDialogProcessEnd f98 '' #zField
Fs0 @PushWFArc f99 '' #zField
Fs0 @RichDialogProcessStart f100 '' #zField
Fs0 @RichDialogProcessEnd f101 '' #zField
Fs0 @PushWFArc f102 '' #zField
Fs0 @RichDialogProcessStart f103 '' #zField
Fs0 @RichDialog f104 '' #zField
Fs0 @PushWFArc f105 '' #zField
Fs0 @RichDialogProcessEnd f106 '' #zField
Fs0 @PushWFArc f107 '' #zField
Fs0 @RichDialogProcessStart f108 '' #zField
Fs0 @RichDialogProcessEnd f109 '' #zField
Fs0 @PushWFArc f110 '' #zField
Fs0 @Alternative f111 '' #zField
Fs0 @RichDialogProcessStep f113 '' #zField
Fs0 @PushWFArc f114 '' #zField
Fs0 @Alternative f117 '' #zField
Fs0 @PushWFArc f112 '' #zField
Fs0 @RichDialogProcessStep f120 '' #zField
Fs0 @PushWFArc f121 '' #zField
Fs0 @RichDialogProcessEnd f122 '' #zField
Fs0 @PushWFArc f124 '' #zField
Fs0 @RichDialogProcessStep f128 '' #zField
Fs0 @RichDialogMethodStart f133 '' #zField
Fs0 @RichDialogProcessEnd f135 '' #zField
Fs0 @PushWFArc f136 '' #zField
Fs0 @RichDialogMethodStart f137 '' #zField
Fs0 @RichDialogMethodStart f60 '' #zField
Fs0 @RichDialogFireEvent f141 '' #zField
Fs0 @PushWFArc f142 '' #zField
Fs0 @PushWFArc f123 '' #zField
Fs0 @RichDialogProcessStep f144 '' #zField
Fs0 @RichDialogProcessEnd f146 '' #zField
Fs0 @PushWFArc f147 '' #zField
Fs0 @RichDialogMethodStart f143 '' #zField
Fs0 @PushWFArc f145 '' #zField
Fs0 @RichDialogInitStart f148 '' #zField
Fs0 @RichDialogInitStart f149 '' #zField
Fs0 @PushWFArc f150 '' #zField
Fs0 @PushWFArc f151 '' #zField
Fs0 @RichDialogMethodStart f152 '' #zField
Fs0 @RichDialogMethodStart f153 '' #zField
Fs0 @RichDialogProcessEnd f154 '' #zField
Fs0 @PushWFArc f155 '' #zField
Fs0 @RichDialogProcessEnd f156 '' #zField
Fs0 @PushWFArc f157 '' #zField
Fs0 @RichDialogProcessStep f158 '' #zField
Fs0 @RichDialogFireEvent f160 '' #zField
Fs0 @PushWFArc f67 '' #zField
Fs0 @PushWFArc f139 '' #zField
Fs0 @RichDialogInitStart f140 '' #zField
Fs0 @PushWFArc f161 '' #zField
Fs0 @RichDialogMethodStart f162 '' #zField
Fs0 @RichDialogProcessStep f163 '' #zField
Fs0 @PushWFArc f164 '' #zField
Fs0 @RichDialogProcessEnd f165 '' #zField
Fs0 @PushWFArc f166 '' #zField
Fs0 @RichDialogProcessStep f167 '' #zField
Fs0 @PushWFArc f168 '' #zField
Fs0 @PushWFArc f51 '' #zField
Fs0 @RichDialogInitStart f169 '' #zField
Fs0 @RichDialogProcessStep f173 '' #zField
Fs0 @PushWFArc f174 '' #zField
Fs0 @PushWFArc f48 '' #zField
Fs0 @RichDialogBroadcastStart f175 '' #zField
Fs0 @RichDialogProcessEnd f176 '' #zField
Fs0 @PushWFArc f177 '' #zField
Fs0 @RichDialogProcessStart f178 '' #zField
Fs0 @RichDialogProcessEnd f179 '' #zField
Fs0 @RichDialogMethodStart f181 '' #zField
Fs0 @RichDialogProcessStep f182 '' #zField
Fs0 @PushWFArc f183 '' #zField
Fs0 @RichDialogProcessEnd f184 '' #zField
Fs0 @PushWFArc f185 '' #zField
Fs0 @RichDialogMethodStart f186 '' #zField
Fs0 @RichDialogMethodStart f187 '' #zField
Fs0 @RichDialogProcessStep f188 '' #zField
Fs0 @PushWFArc f189 '' #zField
Fs0 @RichDialogProcessEnd f190 '' #zField
Fs0 @PushWFArc f191 '' #zField
Fs0 @RichDialogProcessStep f192 '' #zField
Fs0 @PushWFArc f193 '' #zField
Fs0 @RichDialogProcessEnd f194 '' #zField
Fs0 @PushWFArc f195 '' #zField
Fs0 @RichDialogBroadcastStart f196 '' #zField
Fs0 @Alternative f197 '' #zField
Fs0 @PushWFArc f198 '' #zField
Fs0 @RichDialogProcessEnd f203 '' #zField
Fs0 @PushWFArc f205 '' #zField
Fs0 @Alternative f199 '' #zField
Fs0 @PushWFArc f200 '' #zField
Fs0 @RichDialogProcessStep f202 '' #zField
Fs0 @PushWFArc f207 '' #zField
Fs0 @PushWFArc f180 '' #zField
Fs0 @RichDialogMethodStart f212 '' #zField
Fs0 @RichDialogProcessStep f225 '' #zField
Fs0 @RichDialogProcessStep f819 '' #zField
Fs0 @RichDialogProcessEnd f836 '' #zField
Fs0 @Alternative f830 '' #zField
Fs0 @Alternative f824 '' #zField
Fs0 @RichDialogProcessStep f821 '' #zField
Fs0 @RichDialogProcessStep f809 '' #zField
Fs0 @Alternative f817 '' #zField
Fs0 @RichDialogProcessEnd f221 '' #zField
Fs0 @RichDialogProcessStep f217 '' #zField
Fs0 @RichDialogProcessStep f815 '' #zField
Fs0 @Alternative f215 '' #zField
Fs0 @RichDialogProcessStep f828 '' #zField
Fs0 @RichDialogProcessStep f213 '' #zField
Fs0 @RichDialogProcessStep f826 '' #zField
Fs0 @PushWFArc f216 '' #zField
Fs0 @PushWFArc f218 '' #zField
Fs0 @PushWFArc f818 '' #zField
Fs0 @PushWFArc f820 '' #zField
Fs0 @PushWFArc f822 '' #zField
Fs0 @PushWFArc f827 '' #zField
Fs0 @PushWFArc f829 '' #zField
Fs0 @PushWFArc f831 '' #zField
Fs0 @PushWFArc f219 '' #zField
Fs0 @PushWFArc f220 '' #zField
Fs0 @PushWFArc f223 '' #zField
Fs0 @PushWFArc f224 '' #zField
Fs0 @PushWFArc f226 '' #zField
Fs0 @PushWFArc f222 '' #zField
Fs0 @PushWFArc f214 '' #zField
Fs0 @RichDialogProcessStep f845 '' #zField
Fs0 @Alternative f227 '' #zField
Fs0 @PushWFArc f228 '' #zField
Fs0 @PushWFArc f230 '' #zField
Fs0 @PushWFArc f229 '' #zField
Fs0 @RichDialogProcessStep f232 '' #zField
Fs0 @PushWFArc f233 '' #zField
Fs0 @PushWFArc f55 '' #zField
Fs0 @PushWFArc f138 '' #zField
Fs0 @RichDialogProcessEnd f132 '' #zField
Fs0 @PushWFArc f234 '' #zField
Fs0 @PushWFArc f235 '' #zField
Fs0 @RichDialogProcessStep f237 '' #zField
Fs0 @PushWFArc f238 '' #zField
Fs0 @Alternative f239 '' #zField
Fs0 @PushWFArc f240 '' #zField
Fs0 @PushWFArc f159 '' #zField
Fs0 @RichDialogProcessStep f241 '' #zField
Fs0 @PushWFArc f242 '' #zField
Fs0 @RichDialogProcessStep f249 '' #zField
Fs0 @PushWFArc f250 '' #zField
Fs0 @PushWFArc f78 '' #zField
Fs0 @RichDialogFireEvent f251 '' #zField
Fs0 @PushWFArc f37 '' #zField
Fs0 @RichDialogProcessStep f253 '' #zField
Fs0 @PushWFArc f254 '' #zField
Fs0 @PushWFArc f252 '' #zField
Fs0 @PushWFArc f255 '' #zField
Fs0 @PushWFArc f54 '' #zField
Fs0 @RichDialogInitStart f1 '' #zField
Fs0 @PushWFArc f8 '' #zField
Fs0 @PushWFArc f34 '' #zField
Fs0 @RichDialogMethodStart f53 '' #zField
Fs0 @Alternative f56 '' #zField
Fs0 @PushWFArc f57 '' #zField
Fs0 @RichDialogProcessStep f58 '' #zField
Fs0 @RichDialogProcessEnd f125 '' #zField
Fs0 @PushWFArc f126 '' #zField
Fs0 @PushWFArc f119 '' #zField
Fs0 @RichDialogFireEvent f127 '' #zField
Fs0 @PushWFArc f129 '' #zField
Fs0 @PushWFArc f130 '' #zField
Fs0 @RichDialogProcessStart f131 '' #zField
Fs0 @RichDialogProcessStep f134 '' #zField
Fs0 @PushWFArc f170 '' #zField
Fs0 @RichDialogProcessEnd f171 '' #zField
Fs0 @PushWFArc f172 '' #zField
Fs0 @RichDialogProcessStart f208 '' #zField
Fs0 @RichDialogProcessEnd f209 '' #zField
Fs0 @PushWFArc f210 '' #zField
Fs0 @RichDialogProcessStart f211 '' #zField
Fs0 @RichDialogProcessEnd f256 '' #zField
Fs0 @PushWFArc f257 '' #zField
Fs0 @RichDialogBroadcastStart f236 '' #zField
Fs0 @RichDialogProcessEnd f258 '' #zField
Fs0 @PushWFArc f259 '' #zField
Fs0 @RichDialogProcessStart f260 '' #zField
Fs0 @RichDialogProcessEnd f261 '' #zField
Fs0 @PushWFArc f262 '' #zField
Fs0 @RichDialog f263 '' #zField
Fs0 @PushWFArc f115 '' #zField
Fs0 @RichDialog f116 '' #zField
Fs0 @PushWFArc f118 '' #zField
Fs0 @PushWFArc f201 '' #zField
Fs0 @RichDialog f204 '' #zField
Fs0 @PushWFArc f206 '' #zField
Fs0 @RichDialog f71 '' #zField
Fs0 @PushWFArc f75 '' #zField
Fs0 @RichDialog f246 '' #zField
Fs0 @PushWFArc f248 '' #zField
Fs0 @PushWFArc f265 '' #zField
Fs0 @RichDialog f266 '' #zField
Fs0 @PushWFArc f267 '' #zField
Fs0 @RichDialog f244 '' #zField
Fs0 @PushWFArc f268 '' #zField
Fs0 @PushWFArc f269 '' #zField
Fs0 @PushWFArc f69 '' #zField
Fs0 @RichDialogProcessStart f70 '' #zField
Fs0 @PushWFArc f73 '' #zField
Fs0 @PushWFArc f79 '' #zField
Fs0 @PushWFArc f245 '' #zField
Fs0 @RichDialogProcessStep f231 '' #zField
Fs0 @PushWFArc f243 '' #zField
Fs0 @PushWFArc f247 '' #zField
Fs0 @RichDialog f264 '' #zField
Fs0 @PushWFArc f270 '' #zField
Fs0 @PushWFArc f81 '' #zField
>Proto Fs0 Fs0 FileListTableProcess #zField
Fs0 f0 guid 11F6A40F8EC16E70 #txt
Fs0 f0 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f0 method start() #txt
Fs0 f0 disableUIEvents false #txt
Fs0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f0 outParameterDecl '<> result;
' #txt
Fs0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
Fs0 f0 310 38 20 20 13 0 #rect
Fs0 f0 @|RichDialogInitStartIcon #fIcon
Fs0 f3 guid 11F6A4FBF563DB2C #txt
Fs0 f3 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f3 method startWithPath(String) #txt
Fs0 f3 disableUIEvents false #txt
Fs0 f3 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path> param = methodEvent.getInputArguments();
' #txt
Fs0 f3 inParameterMapAction 'out.configurationController.rootPath=param.path;
out.multipleSelectionAllowed=false;
' #txt
Fs0 f3 outParameterDecl '<> result;
' #txt
Fs0 f3 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithPath(String)</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f3 406 45 20 22 -39 -27 #rect
Fs0 f3 @|RichDialogInitStartIcon #fIcon
Fs0 f4 guid 11F6A4FF31A8F10A #txt
Fs0 f4 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f4 method startPathAndMultipleSelectionAllowed(String,Boolean) #txt
Fs0 f4 disableUIEvents false #txt
Fs0 f4 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path,java.lang.Boolean multipleSelectionAllowed> param = methodEvent.getInputArguments();
' #txt
Fs0 f4 inParameterMapAction 'out.configurationController.rootPath=param.path;
out.multipleSelectionAllowed=param.multipleSelectionAllowed;
' #txt
Fs0 f4 outParameterDecl '<> result;
' #txt
Fs0 f4 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithPathAndMultipleSelectionAllowed(String,Boolean)</name>
        <nameStyle>56,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f4 454 86 20 20 -50 -32 #rect
Fs0 f4 @|RichDialogInitStartIcon #fIcon
Fs0 f2 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f2 actionTable 'out=in;
' #txt
Fs0 f2 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileUploadHandler;
import ch.ivyteam.ivy.addons.filemanager.database.AbstractFileManagementHandler;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import com.ulcjava.base.application.ULCListSelectionModel;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;
import ch.ivyteam.ivy.addons.filemanager.database.fileaction.FileActionHistoryController;

import ch.ivyteam.ivy.event.SystemEventCategory;

// register
ivy.rd.subscribeToSystemEvents(SystemEventCategory.THIRD_PARTY);
out.panelId = System.nanoTime();

if(in.#configurationController.#rootPath == null || in.configurationController.rootPath.equals("")){
	in.configurationController.rootPath="defaultDirectory/";
}

if(in.multipleSelectionAllowed==false){
	panel.fileListTable.setSelectionMode(ULCListSelectionModel.SINGLE_SELECTION);
}else{
	panel.fileListTable.setSelectionMode(ULCListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
}

try{
	
	in.fileManagementHandler = AbstractFileManagementHandler.getInstance(in.configurationController);
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}
if(in.configurationController.fileActionHistoryConfiguration.activateFileActionHistory)
{
	in.fileManagementHandler.setFileActionHistoryController(new FileActionHistoryController(in.configurationController.fileActionHistoryConfiguration));
}
if(in.configurationController.storeFilesInDB)
{
	File dir = new File(ivy.session.getSessionUserName()+"/"+System.nanoTime()+"/Upload/",true);
	dir.mkdir();
	if(dir.isDirectory())
	{
		in.uploadManager = new FileUploadHandler(panel,"_onUploadError","_uploadSuccessWithFilesInDB","_onChangeFile","_onProgress",dir.getAbsolutePath());
		in.uploadManager.setAreFilesStoredInDB(true);
	}else{
		in.uploadManager = new FileUploadHandler(panel,"_onUploadError","_uploadSuccessWithFilesInDB","_onChangeFile","_onProgress",in.configurationController.rootPath);
		in.uploadManager.setAreFilesStoredInDB(true);
	}
	in.uploadManager.setFileHandlerMgt(in.fileManagementHandler);
	in.uploadManager.setFilesDestinationPathForDB(in.configurationController.rootPath);
}else{
	in.uploadManager = new FileUploadHandler(panel,"_onUploadError","_getUploadedFileFromUploadHandler","_onChangeFile","_onProgress",in.configurationController.rootPath);
}

if(in.configurationController.maxFileUploadSize>0)
{
	in.uploadManager.setMaxSize(in.configurationController.maxFileUploadSize);
}' #txt
Fs0 f2 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>initialize the filemanager
and Uploadmanager</name>
        <nameStyle>44,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f2 302 220 36 24 -88 17 #rect
Fs0 f2 @|RichDialogProcessStepIcon #fIcon
Fs0 f2 -613726|-613726|-16777216 #nodeStyle
Fs0 f5 expr out #txt
Fs0 f5 320 58 320 220 #arcP
Fs0 f6 expr out #txt
Fs0 f6 410 65 327 220 #arcP
Fs0 f7 expr out #txt
Fs0 f7 456 102 333 220 #arcP
Fs0 f9 guid 11F6A56E00DE9BB4 #txt
Fs0 f9 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f9 method getMultipleSelectionAllowed() #txt
Fs0 f9 disableUIEvents false #txt
Fs0 f9 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f9 outParameterDecl '<java.lang.Boolean multipleSelectionAllowed> result;
' #txt
Fs0 f9 outParameterMapAction 'result.multipleSelectionAllowed=in.multipleSelectionAllowed;
' #txt
Fs0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getMultipleSelectionAllowed()</name>
        <nameStyle>29,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f9 814 214 20 20 -48 -29 #rect
Fs0 f9 @|RichDialogMethodStartIcon #fIcon
Fs0 f10 guid 11F6A56F3908D020 #txt
Fs0 f10 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f10 method getPath() #txt
Fs0 f10 disableUIEvents false #txt
Fs0 f10 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f10 outParameterDecl '<java.lang.String path> result;
' #txt
Fs0 f10 outParameterMapAction 'result.path=in.configurationController.rootPath;
' #txt
Fs0 f10 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getPath()</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f10 814 54 20 20 -22 -29 #rect
Fs0 f10 @|RichDialogMethodStartIcon #fIcon
Fs0 f11 guid 11F6A5703E7B0A8C #txt
Fs0 f11 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f11 method getSelectedDocument() #txt
Fs0 f11 disableUIEvents false #txt
Fs0 f11 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f11 outParameterDecl '<ch.xpertline.common.ria.component.DocumentOnServer selectedDocument> result;
' #txt
Fs0 f11 outParameterMapAction 'result.selectedDocument=in.selectedDocumentOnServer;
' #txt
Fs0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getSelectedDocument()</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f11 1430 54 20 20 -45 -31 #rect
Fs0 f11 @|RichDialogMethodStartIcon #fIcon
Fs0 f12 guid 11F6A57306A7B746 #txt
Fs0 f12 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f12 method getSelectedDocuments() #txt
Fs0 f12 disableUIEvents false #txt
Fs0 f12 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f12 outParameterDecl '<List<ch.xpertline.common.ria.component.DocumentOnServer> selectedDocuments> result;
' #txt
Fs0 f12 outParameterMapAction 'result.selectedDocuments=in.selectedDocumentOnServerList;
' #txt
Fs0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getSelectedDocuments()</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f12 1382 174 20 20 -48 -29 #rect
Fs0 f12 @|RichDialogMethodStartIcon #fIcon
Fs0 f13 guid 11F6A574AE032875 #txt
Fs0 f13 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f13 method setMultipleSelectionAllowed(Boolean) #txt
Fs0 f13 disableUIEvents false #txt
Fs0 f13 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean multipleSelectionAllowed> param = methodEvent.getInputArguments();
' #txt
Fs0 f13 inParameterMapAction 'out.multipleSelectionAllowed=param.multipleSelectionAllowed;
' #txt
Fs0 f13 outParameterDecl '<> result;
' #txt
Fs0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setMultipleSelectionAllowed(Boolean)</name>
        <nameStyle>36,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f13 950 270 20 20 -46 -27 #rect
Fs0 f13 @|RichDialogMethodStartIcon #fIcon
Fs0 f14 guid 11F6A57642EB06B0 #txt
Fs0 f14 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f14 method setPath(String) #txt
Fs0 f14 disableUIEvents false #txt
Fs0 f14 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path> param = methodEvent.getInputArguments();
' #txt
Fs0 f14 inParameterMapAction 'out.configurationController.rootPath=param.path;
' #txt
Fs0 f14 outParameterDecl '<> result;
' #txt
Fs0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setPath(String)</name>
        <nameStyle>15,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f14 950 54 20 20 -29 -31 #rect
Fs0 f14 @|RichDialogMethodStartIcon #fIcon
Fs0 f15 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f15 811 259 26 26 14 0 #rect
Fs0 f15 @|RichDialogProcessEndIcon #fIcon
Fs0 f16 expr out #txt
Fs0 f16 824 234 824 259 #arcP
Fs0 f17 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f17 811 107 26 26 14 0 #rect
Fs0 f17 @|RichDialogProcessEndIcon #fIcon
Fs0 f18 expr out #txt
Fs0 f18 824 74 824 107 #arcP
Fs0 f19 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f19 1427 107 26 26 14 0 #rect
Fs0 f19 @|RichDialogProcessEndIcon #fIcon
Fs0 f20 expr out #txt
Fs0 f20 1440 74 1440 107 #arcP
Fs0 f21 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f21 actionTable 'out=in;
' #txt
Fs0 f21 actionCode 'in.selectedDocumentOnServerList.clear();
in.selectedDocumentOnServerList.addAll(panel.fileListTable.getSelectedListEntries());' #txt
Fs0 f21 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f21 1374 220 36 24 20 -2 #rect
Fs0 f21 @|RichDialogProcessStepIcon #fIcon
Fs0 f22 expr out #txt
Fs0 f22 1392 194 1392 220 #arcP
Fs0 f23 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f23 1379 267 26 26 14 0 #rect
Fs0 f23 @|RichDialogProcessEndIcon #fIcon
Fs0 f24 expr out #txt
Fs0 f24 1392 244 1392 267 #arcP
Fs0 f25 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f25 actionTable 'out=in;
' #txt
Fs0 f25 actionCode 'import com.ulcjava.base.application.ULCListSelectionModel;
if(in.multipleSelectionAllowed==false){
	panel.fileListTable.setSelectionMode(ULCListSelectionModel.SINGLE_SELECTION);
	in.selectedFilesList.clear();
	in.selectedDocumentOnServerList.clear();
	if(in.#selectedFile!=null){
		in.selectedFilesList.add(in.selectedFile);
		in.selectedDocumentOnServerList.add(in.selectedDocumentOnServer);
	}
}else{
	panel.fileListTable.setSelectionMode(ULCListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
}' #txt
Fs0 f25 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f25 942 316 36 24 20 -2 #rect
Fs0 f25 @|RichDialogProcessStepIcon #fIcon
Fs0 f26 expr out #txt
Fs0 f26 960 290 960 316 #arcP
Fs0 f27 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f27 947 363 26 26 14 0 #rect
Fs0 f27 @|RichDialogProcessEndIcon #fIcon
Fs0 f28 expr out #txt
Fs0 f28 960 340 960 363 #arcP
Fs0 f29 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f29 947 187 26 26 14 0 #rect
Fs0 f29 @|RichDialogProcessEndIcon #fIcon
Fs0 f31 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f31 actionTable 'out=in;
' #txt
Fs0 f31 actionCode 'panel.refreshWithCheck();
if(in.configurationController.storeFilesInDB)
{
	in.uploadManager.setFilesDestinationPathForDB(in.configurationController.rootPath);
}else{
	in.uploadManager.setServerPath(in.configurationController.rootPath);
}' #txt
Fs0 f31 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f31 942 100 36 24 20 -2 #rect
Fs0 f31 @|RichDialogProcessStepIcon #fIcon
Fs0 f32 expr out #txt
Fs0 f32 960 74 960 100 #arcP
Fs0 f30 expr out #txt
Fs0 f30 960 124 960 187 #arcP
Fs0 f33 guid 11F6A6EBBA5F4767 #txt
Fs0 f33 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f33 method refresh() #txt
Fs0 f33 disableUIEvents false #txt
Fs0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh()</name>
    </language>
</elementInfo>
' #txt
Fs0 f33 1214 678 20 20 -17 -29 #rect
Fs0 f33 @|RichDialogMethodStartIcon #fIcon
Fs0 f35 guid 11F6A70B450F3C9A #txt
Fs0 f35 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f35 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f35 actionTable 'out=in;
' #txt
Fs0 f35 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileHandler;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;


if(panel.#fileListTable.getSelectedListEntry()!=null && panel.fileListTable.getSelectedListEntry() instanceof DocumentOnServer){
 	DocumentOnServer doc = new DocumentOnServer();
  doc = panel.fileListTable.selectedListEntry as DocumentOnServer;
	
	in.selectedDocumentOnServer=in.fileManagementHandler.getDocumentOnServerWithJavaFile(doc);
	
	in.selectedFile=in.selectedDocumentOnServer.getJavaFile();
	panel.enablerTextField.setText("selected");

}else{
	panel.enablerTextField.setText("");
}' #txt
Fs0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>file selected</name>
        <nameStyle>13,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f35 2518 70 20 20 -25 -31 #rect
Fs0 f35 @|RichDialogProcessStartIcon #fIcon
Fs0 f35 -613726|-613726|-16777216 #nodeStyle
Fs0 f36 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f36 2515 235 26 26 14 0 #rect
Fs0 f36 @|RichDialogProcessEndIcon #fIcon
Fs0 f38 guid 11F6A7C3D61C71C2 #txt
Fs0 f38 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f38 method getSelectedFile() #txt
Fs0 f38 disableUIEvents false #txt
Fs0 f38 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f38 outParameterDecl '<java.io.File selectedFile> result;
' #txt
Fs0 f38 outParameterMapAction 'result.selectedFile=in.selectedFile;
' #txt
Fs0 f38 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getSelectedFile()</name>
        <nameStyle>17,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f38 1294 174 20 20 -37 -27 #rect
Fs0 f38 @|RichDialogMethodStartIcon #fIcon
Fs0 f41 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f41 1291 275 26 26 14 0 #rect
Fs0 f41 @|RichDialogProcessEndIcon #fIcon
Fs0 f43 guid 11F6A8DC01FDBE4D #txt
Fs0 f43 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f43 method getSelectedFiles() #txt
Fs0 f43 disableUIEvents false #txt
Fs0 f43 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f43 outParameterDecl '<List<java.io.File> selectedFiles> result;
' #txt
Fs0 f43 outParameterMapAction 'result.selectedFiles=in.selectedFilesList;
' #txt
Fs0 f43 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getSelectedFiles()</name>
        <nameStyle>18,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f43 1662 62 20 20 -34 -28 #rect
Fs0 f43 @|RichDialogMethodStartIcon #fIcon
Fs0 f39 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f39 actionTable 'out=in;
' #txt
Fs0 f39 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;
try{
	List<DocumentOnServer> docs = panel.fileListTable.getSelectedListEntries() as List<DocumentOnServer>;
	
	in.selectedFilesList.clear();

	for(DocumentOnServer doc : docs){
		DocumentOnServer d = in.fileManagementHandler.getDocumentOnServerWithJavaFile(doc);
		if(d.getJavaFile()!=null && d.getJavaFile().isFile()){
			in.selectedFilesList.add(d.getJavaFile());
		}
	}
}catch(Throwable t){
	ivy.log.error(t.getMessage(),t);
}

' #txt
Fs0 f39 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f39 1654 108 36 24 20 -2 #rect
Fs0 f39 @|RichDialogProcessStepIcon #fIcon
Fs0 f39 -613726|-613726|-16777216 #nodeStyle
Fs0 f40 expr out #txt
Fs0 f40 1672 82 1672 108 #arcP
Fs0 f42 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f42 1659 163 26 26 14 0 #rect
Fs0 f42 @|RichDialogProcessEndIcon #fIcon
Fs0 f44 expr out #txt
Fs0 f44 1672 132 1672 163 #arcP
Fs0 f45 expr out #txt
Fs0 f45 1304 194 1304 275 #arcP
Fs0 f46 guid 11F89AA2F2E17B0B #txt
Fs0 f46 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f46 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f46 actionTable 'out=in;
' #txt
Fs0 f46 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>open a File</name>
        <nameStyle>11,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f46 2646 70 20 20 -22 -26 #rect
Fs0 f46 @|RichDialogProcessStartIcon #fIcon
Fs0 f47 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f47 2643 211 26 26 14 0 #rect
Fs0 f47 @|RichDialogProcessEndIcon #fIcon
Fs0 f49 guid 11F89B358329468E #txt
Fs0 f49 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f49 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f49 actionTable 'out=in;
' #txt
Fs0 f49 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>upload a File</name>
        <nameStyle>13,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f49 2646 342 20 20 -27 -32 #rect
Fs0 f49 @|RichDialogProcessStartIcon #fIcon
Fs0 f50 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f50 2643 427 26 26 14 0 #rect
Fs0 f50 @|RichDialogProcessEndIcon #fIcon
Fs0 f52 guid 11F89B713EFCFEA6 #txt
Fs0 f52 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f52 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f52 actionTable 'out=in;
' #txt
Fs0 f52 actionCode '
out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/confirmdeleteDir");' #txt
Fs0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete a File</name>
        <nameStyle>13,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f52 2814 54 20 20 -25 -28 #rect
Fs0 f52 @|RichDialogProcessStartIcon #fIcon
Fs0 f59 guid 11F89CE6C33EAC3C #txt
Fs0 f59 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f59 method _getUploadedFileFromUploadHandler(List<java.io.File>) #txt
Fs0 f59 disableUIEvents false #txt
Fs0 f59 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<List<java.io.File> files> param = methodEvent.getInputArguments();
' #txt
Fs0 f59 inParameterMapAction 'out.tmpFilesList=param.files;
' #txt
Fs0 f59 outParameterDecl '<> result;
' #txt
Fs0 f59 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_getUploadedFileFromUploadHandler(List&lt;java.io.File&gt;)</name>
        <nameStyle>53,5,6,9
</nameStyle>
        <desc>ch.xpertline.ria.util.file.FileHandler</desc>
    </language>
</elementInfo>
' #txt
Fs0 f59 2078 110 20 20 -65 -35 #rect
Fs0 f59 @|RichDialogMethodStartIcon #fIcon
Fs0 f61 guid 11F89CE94C8C7FAA #txt
Fs0 f61 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f61 method _onUploadError(ch.ivyteam.ivy.addons.filemanager.ReturnedMessage) #txt
Fs0 f61 disableUIEvents false #txt
Fs0 f61 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.addons.filemanager.ReturnedMessage returnedMessage> param = methodEvent.getInputArguments();
' #txt
Fs0 f61 inParameterMapAction 'out.returnedMessage=param.returnedMessage;
' #txt
Fs0 f61 outParameterDecl '<> result;
' #txt
Fs0 f61 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_onUploadError(ReturnedMessage)</name>
        <nameStyle>31,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f61 1550 326 20 20 -74 -33 #rect
Fs0 f61 @|RichDialogMethodStartIcon #fIcon
Fs0 f62 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f62 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Check if at least one file uploaded</name>
        <nameStyle>35,9
</nameStyle>
        <desc>More than one file uploaded</desc>
    </language>
</elementInfo>
' #txt
Fs0 f62 2074 170 28 28 9 -15 #rect
Fs0 f62 @|AlternativeIcon #fIcon
Fs0 f63 expr out #txt
Fs0 f63 2088 130 2088 170 #arcP
Fs0 f64 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f64 actionTable 'out=in;
' #txt
Fs0 f64 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileHandler;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

in.time=new Time().format();
in.today =  new Date().format("dd.MM.yyyy");
List<DocumentOnServer> docs = new List<DocumentOnServer>();
for(java.io.File file: in.tmpFilesList){
	DocumentOnServer doc = new DocumentOnServer();
	doc.creationDate= in.today;
	doc.creationTime=in.time;
	doc.userID=ivy.session.getSessionUserName();
	doc.filename=file.getName().trim();
	doc.path=in.configurationController.rootPath+doc.filename;
	doc.fileSize=FileHandler.getFileSize(file);
	doc.modificationDate= in.today;
	doc.modificationTime=in.time;
	doc.modificationUserID=ivy.session.getSessionUserName();
	doc.locked="0";
	doc.setJavaFile(file);
	docs.add(doc);
}
int id=0;
try{
	id=in.fileManagementHandler.insertDocuments(docs);
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}
if(id>0){
	in.documentsInDb.addAll(docs);
	panel.openMenuItem.setEnabled(false);
	panel.deleteMenuItem.setEnabled(false);
}else{
	panel.refresh();
}
' #txt
Fs0 f64 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f64 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>retrieves Infos from uploadedFiles
and insert them into the Filemanagement
File indexing system</name>
        <nameStyle>95,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f64 2070 220 36 24 28 -27 #rect
Fs0 f64 @|RichDialogProcessStepIcon #fIcon
Fs0 f65 expr in #txt
Fs0 f65 outCond in.tmpFilesList.size()>0 #txt
Fs0 f65 2088 198 2088 220 #arcP
Fs0 f66 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f66 2075 363 26 26 14 0 #rect
Fs0 f66 @|RichDialogProcessEndIcon #fIcon
Fs0 f68 expr in #txt
Fs0 f68 2074 184 2075 376 #arcP
Fs0 f68 1 2028 184 #addKink
Fs0 f68 2 2028 376 #addKink
Fs0 f68 1 0.40611813510756595 0 0 #arcLabel
Fs0 f72 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f72 actionTable 'out=in;
' #txt
Fs0 f72 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

try{
	if(in.tmpString.equalsIgnoreCase(ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes"))){
		//we override the files so we delete them
		in.fileManagementHandler.deleteDocumentOnServers(in.returnedMessage.documentOnServers);
	}else{
		//we exclude the files that should be overridden
		List<java.io.File> filesToKeep = new List<java.io.File>();
		for(java.io.File f:in.returnedMessage.files){
			boolean reject = false;
			for(DocumentOnServer doc: in.returnedMessage.documentOnServers){
				if(doc.getFilename().compareTo(f.getName())==0){
					reject=true;
					break;
				}
			}
			if(!reject){
				filesToKeep.add(f);
			}
		}
		in.returnedMessage.files.clear();
		in.returnedMessage.files.addAll(filesToKeep);
	}
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}' #txt
Fs0 f72 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if reponse = no Delete the files that
 will be overwritten</name>
        <nameStyle>58,7,9
</nameStyle>
        <desc>Delete the file that
 will be overwritten</desc>
    </language>
</elementInfo>
' #txt
Fs0 f72 1462 748 36 24 -217 -21 #rect
Fs0 f72 @|RichDialogProcessStepIcon #fIcon
Fs0 f74 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f74 actionTable 'out=in;
' #txt
Fs0 f74 actionCode 'if(!in.returnedMessage.files.isEmpty()){
	in.uploadManager.uploadPreparedFilesWithoutShowingProgress(in.returnedMessage.files);
}' #txt
Fs0 f74 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f74 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>upload the files if any</name>
        <nameStyle>23,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f74 1558 788 36 24 -53 -33 #rect
Fs0 f74 @|RichDialogProcessStepIcon #fIcon
Fs0 f76 expr out #txt
Fs0 f76 1480 772 1558 800 #arcP
Fs0 f76 1 1480 800 #addKink
Fs0 f76 1 0.2655887406437936 0 0 #arcLabel
Fs0 f77 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f77 1563 907 26 26 14 0 #rect
Fs0 f77 @|RichDialogProcessEndIcon #fIcon
Fs0 f80 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f80 1547 411 26 26 14 0 #rect
Fs0 f80 @|RichDialogProcessEndIcon #fIcon
Fs0 f82 guid 11F89E330427923D #txt
Fs0 f82 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f82 method addDocumentOnServers(List<ch.ivyteam.ivy.addons.filemanager.DocumentOnServer>) #txt
Fs0 f82 disableUIEvents false #txt
Fs0 f82 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<List<ch.ivyteam.ivy.addons.filemanager.DocumentOnServer> listOfDocumentOnServer> param = methodEvent.getInputArguments();
' #txt
Fs0 f82 inParameterMapAction 'out.tmpDocumentOnServersList=param.listOfDocumentOnServer;
' #txt
Fs0 f82 outParameterDecl '<> result;
' #txt
Fs0 f82 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addDocumentOnServers(List&lt;DocumentOnServer&gt;)</name>
        <nameStyle>44,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f82 1238 1102 20 20 -70 -28 #rect
Fs0 f82 @|RichDialogMethodStartIcon #fIcon
Fs0 f83 guid 11F89E33CFE5B9B1 #txt
Fs0 f83 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f83 method addFiles(List<java.io.File>) #txt
Fs0 f83 disableUIEvents false #txt
Fs0 f83 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<List<java.io.File> listOfFiles> param = methodEvent.getInputArguments();
' #txt
Fs0 f83 inParameterMapAction 'out.tmpFilesList=param.listOfFiles;
' #txt
Fs0 f83 outParameterDecl '<> result;
' #txt
Fs0 f83 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addFiles(List&lt;File&gt;)</name>
        <nameStyle>20,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f83 1494 998 20 20 -42 -29 #rect
Fs0 f83 @|RichDialogMethodStartIcon #fIcon
Fs0 f84 guid 11F8D0BA9A88086B #txt
Fs0 f84 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f84 method getListedDocumentOnServers() #txt
Fs0 f84 disableUIEvents false #txt
Fs0 f84 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f84 outParameterDecl '<List<ch.xpertline.common.ria.component.DocumentOnServer> listOfDocumentOnServers> result;
' #txt
Fs0 f84 outParameterMapAction 'result.listOfDocumentOnServers=in.documentsInDb;
' #txt
Fs0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getListedDocumentOnServers()</name>
        <nameStyle>28,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f84 1550 54 20 20 -57 -29 #rect
Fs0 f84 @|RichDialogMethodStartIcon #fIcon
Fs0 f85 guid 11F8D0BC6D7711E5 #txt
Fs0 f85 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f85 method getListedFiles() #txt
Fs0 f85 disableUIEvents false #txt
Fs0 f85 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f85 outParameterDecl '<List<java.io.File> ListOfFiles> result;
' #txt
Fs0 f85 outParameterMapAction 'result.ListOfFiles=in.filesList;
' #txt
Fs0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getListedFiles()</name>
        <nameStyle>16,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f85 1486 174 20 20 -34 -30 #rect
Fs0 f85 @|RichDialogMethodStartIcon #fIcon
Fs0 f86 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f86 1547 107 26 26 14 0 #rect
Fs0 f86 @|RichDialogProcessEndIcon #fIcon
Fs0 f87 expr out #txt
Fs0 f87 1560 74 1560 107 #arcP
Fs0 f88 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f88 actionTable 'out=in;
' #txt
Fs0 f88 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

try{
	in.filesList.clear();
	List<DocumentOnServer> docs = in.fileManagementHandler.getDocumentsWithJavaFileInPath(in.configurationController.rootPath,false);
	for(DocumentOnServer d: docs){
		in.filesList.add(d.getJavaFile());
	}
}catch(Throwable t){
		
}' #txt
Fs0 f88 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f88 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get the Files in the path</name>
        <nameStyle>25,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f88 1478 220 36 24 20 -2 #rect
Fs0 f88 @|RichDialogProcessStepIcon #fIcon
Fs0 f88 -613726|-613726|-16777216 #nodeStyle
Fs0 f89 expr out #txt
Fs0 f89 1496 194 1496 220 #arcP
Fs0 f90 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f90 1483 267 26 26 14 0 #rect
Fs0 f90 @|RichDialogProcessEndIcon #fIcon
Fs0 f91 expr out #txt
Fs0 f91 1496 244 1496 267 #arcP
Fs0 f92 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f92 actionTable 'out=in;
' #txt
Fs0 f92 actionCode 'try{
	in.fileManagementHandler.insertDocuments(in.tmpDocumentOnServersList);
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}
panel.refresh();' #txt
Fs0 f92 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f92 1230 1148 36 24 20 -2 #rect
Fs0 f92 @|RichDialogProcessStepIcon #fIcon
Fs0 f93 expr out #txt
Fs0 f93 1248 1122 1248 1148 #arcP
Fs0 f94 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f94 1235 1195 26 26 14 0 #rect
Fs0 f94 @|RichDialogProcessEndIcon #fIcon
Fs0 f95 expr out #txt
Fs0 f95 1248 1172 1248 1195 #arcP
Fs0 f96 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f96 actionTable 'out=in;
' #txt
Fs0 f96 actionCode 'try{
	in.fileManagementHandler.insertFiles(in.tmpFilesList,ivy.session.getSessionUserName());
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}
panel.refresh();' #txt
Fs0 f96 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f96 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f96 1486 1036 36 24 20 -2 #rect
Fs0 f96 @|RichDialogProcessStepIcon #fIcon
Fs0 f97 expr out #txt
Fs0 f97 1504 1018 1504 1036 #arcP
Fs0 f98 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f98 1491 1091 26 26 14 0 #rect
Fs0 f98 @|RichDialogProcessEndIcon #fIcon
Fs0 f99 expr out #txt
Fs0 f99 1504 1060 1504 1091 #arcP
Fs0 f100 guid 11F8D25CD4CFD440 #txt
Fs0 f100 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f100 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f100 actionTable 'out=in;
' #txt
Fs0 f100 actionCode 'import ch.ivyteam.ivy.richdialog.exec.RdEvent;

RdEvent e = event as RdEvent;
if(e.getParameter() instanceof String){
	in.userTempDirectoryPath = e.getParameter() as String;
}' #txt
Fs0 f100 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get user temp dir</name>
        <nameStyle>17,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f100 2518 406 20 20 -33 -30 #rect
Fs0 f100 @|RichDialogProcessStartIcon #fIcon
Fs0 f101 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f101 2515 459 26 26 14 0 #rect
Fs0 f101 @|RichDialogProcessEndIcon #fIcon
Fs0 f102 expr out #txt
Fs0 f102 2528 426 2528 459 #arcP
Fs0 f103 guid 11F8D295F50E7097 #txt
Fs0 f103 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f103 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f103 actionTable 'out=in;
' #txt
Fs0 f103 actionCode 'import ch.ivyteam.ivy.richdialog.exec.RdEvent;
in.tmpString="";
RdEvent e = event as RdEvent;
if(e.getParameter() instanceof String){
	in.tmpString = e.getParameter() as String;
}' #txt
Fs0 f103 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get Desktop Exception</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f103 2662 590 20 20 -44 -27 #rect
Fs0 f103 @|RichDialogProcessStartIcon #fIcon
Fs0 f104 targetDisplay TOP #txt
Fs0 f104 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Fs0 f104 startMethod askQuestion(String,String,List<String>,String) #txt
Fs0 f104 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f104 panelName Error #txt
Fs0 f104 requestActionDecl '<String icon, String question, List<String> buttons, String defaultButton> param;' #txt
Fs0 f104 requestMappingAction 'param.icon="/ch/ivyteam/ivy/addons/icons/close/48";
param.question=in.tmpString;
param.buttons=[ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/ok")];
param.defaultButton=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/ok");
' #txt
Fs0 f104 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f104 responseMappingAction 'out=in;
' #txt
Fs0 f104 windowConfiguration '{/title "Error in Desktop action"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f104 isAsynch false #txt
Fs0 f104 isInnerRd true #txt
Fs0 f104 isDialog true #txt
Fs0 f104 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Show Error Message</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f104 2654 636 36 24 20 -2 #rect
Fs0 f104 @|RichDialogIcon #fIcon
Fs0 f105 expr out #txt
Fs0 f105 2672 610 2672 636 #arcP
Fs0 f106 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f106 2659 699 26 26 14 0 #rect
Fs0 f106 @|RichDialogProcessEndIcon #fIcon
Fs0 f107 expr out #txt
Fs0 f107 2672 660 2672 699 #arcP
Fs0 f108 guid 11F8D2D44FF77A97 #txt
Fs0 f108 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f108 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f108 actionTable 'out=in;
' #txt
Fs0 f108 actionCode 'import ch.ivyteam.ivy.richdialog.exec.RdEvent;
RdEvent e = event as RdEvent;
if(e.getParameter() instanceof String){
	out.osUserName = e.getParameter() as String;
}
' #txt
Fs0 f108 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get OS User Name</name>
        <nameStyle>16,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f108 2518 590 20 20 -33 -30 #rect
Fs0 f108 @|RichDialogProcessStartIcon #fIcon
Fs0 f109 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f109 2515 643 26 26 14 0 #rect
Fs0 f109 @|RichDialogProcessEndIcon #fIcon
Fs0 f110 expr out #txt
Fs0 f110 2528 610 2528 643 #arcP
Fs0 f111 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f111 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is multiple selection allowed ?</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f111 2810 234 28 28 14 0 #rect
Fs0 f111 @|AlternativeIcon #fIcon
Fs0 f113 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f113 actionTable 'out=in;
' #txt
Fs0 f113 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
in.tmpBoolean=false;
try{
	List select = panel.fileListTable.getSelectedListEntries();
	for(Object o : select){
		if(o instanceof DocumentOnServer){
			in.selectedDocumentOnServerList.add(o as DocumentOnServer);
		}
	}
	in.returnedMessage=in.fileManagementHandler.deleteDocumentOnServers(in.selectedDocumentOnServerList);
	if(in.returnedMessage.type==1){
		out.tmpBoolean=true;
	}
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}

panel.refresh();' #txt
Fs0 f113 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f113 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete List</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f113 2758 308 36 24 -57 -35 #rect
Fs0 f113 @|RichDialogProcessStepIcon #fIcon
Fs0 f113 -613726|-613726|-16777216 #nodeStyle
Fs0 f114 expr in #txt
Fs0 f114 outCond in.multipleSelectionAllowed #txt
Fs0 f114 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f114 2818 256 2784 308 #arcP
Fs0 f117 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f117 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Confirmed?</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f117 2810 170 28 28 14 0 #rect
Fs0 f117 @|AlternativeIcon #fIcon
Fs0 f112 expr in #txt
Fs0 f112 outCond in.tmpString.equalsIgnoreCase(ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/deleteFiles")) #txt
Fs0 f112 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f112 2824 198 2824 234 #arcP
Fs0 f120 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f120 actionTable 'out=in;
' #txt
Fs0 f120 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;
in.tmpBoolean=false;

if(panel.fileListTable.getSelectedListEntry() != null && panel.fileListTable.getSelectedListEntry() instanceof DocumentOnServer){
	in.selectedDocumentOnServer=panel.fileListTable.getSelectedListEntry() as DocumentOnServer;
	if(in.selectedDocumentOnServer.locked.compareTo("1")==0){
		out.returnedMessage.text=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/information/fileLockedNotDeleted");
	}
	else{
		try{
			in.returnedMessage=in.fileManagementHandler.deleteDocumentOnServer(in.selectedDocumentOnServer);
			if(in.returnedMessage.type==1)
			{
				out.tmpBoolean=true;
			}
		}catch(Throwable t){
			in.errorUtil.panelId = in.panelId;
			in.errorUtil.errorOccurred=true;
			in.errorUtil.throwable = t;
			in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
			panel.fireErrorOccurred(in.errorUtil);
		}
	}
}

panel.refresh();
' #txt
Fs0 f120 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f120 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete single file</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f120 2862 308 36 24 -1 -35 #rect
Fs0 f120 @|RichDialogProcessStepIcon #fIcon
Fs0 f120 -613726|-613726|-16777216 #nodeStyle
Fs0 f121 expr in #txt
Fs0 f121 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>No</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f121 2830 256 2871 308 #arcP
Fs0 f122 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f122 2819 483 26 26 14 0 #rect
Fs0 f122 @|RichDialogProcessEndIcon #fIcon
Fs0 f124 expr in #txt
Fs0 f124 2810 184 2819 496 #arcP
Fs0 f124 1 2692 184 #addKink
Fs0 f124 2 2692 496 #addKink
Fs0 f124 1 0.4059138568666363 0 0 #arcLabel
Fs0 f128 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f128 actionTable 'out=in;
' #txt
Fs0 f128 actionCode 'panel.openMenuItem.setEnabled(false);
panel.deleteMenuItem.setEnabled(false);' #txt
Fs0 f128 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f128 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f128 2814 388 36 24 20 -2 #rect
Fs0 f128 @|RichDialogProcessStepIcon #fIcon
Fs0 f133 guid 11F92AF9DC8BD232 #txt
Fs0 f133 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f133 method _onProgress(Number) #txt
Fs0 f133 disableUIEvents false #txt
Fs0 f133 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_onProgress(Number)</name>
    </language>
</elementInfo>
' #txt
Fs0 f133 1662 358 20 20 -36 -28 #rect
Fs0 f133 @|RichDialogMethodStartIcon #fIcon
Fs0 f135 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f135 1659 419 26 26 14 0 #rect
Fs0 f135 @|RichDialogProcessEndIcon #fIcon
Fs0 f136 expr out #txt
Fs0 f136 1672 378 1672 419 #arcP
Fs0 f137 guid 11F92AFE86534043 #txt
Fs0 f137 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f137 method refreshWithCheck() #txt
Fs0 f137 disableUIEvents false #txt
Fs0 f137 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refreshWithCheck()</name>
    </language>
</elementInfo>
' #txt
Fs0 f137 1214 598 20 20 -17 -32 #rect
Fs0 f137 @|RichDialogMethodStartIcon #fIcon
Fs0 f60 guid 11F92BB10D256BB5 #txt
Fs0 f60 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f60 method _onChangeFile(ch.ivyteam.ivy.addons.filemanager.ReturnedMessage) #txt
Fs0 f60 disableUIEvents false #txt
Fs0 f60 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.addons.filemanager.ReturnedMessage returnedMessage> param = methodEvent.getInputArguments();
' #txt
Fs0 f60 inParameterMapAction 'out.returnedMessage=param.returnedMessage;
' #txt
Fs0 f60 outParameterDecl '<> result;
' #txt
Fs0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_onChangeFile(ReturnedMessage)</name>
        <nameStyle>30,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f60 1566 486 20 20 -59 -31 #rect
Fs0 f60 @|RichDialogMethodStartIcon #fIcon
Fs0 f141 actionDecl 'List<java.io.File> listOfDeletedFiles;
' #txt
Fs0 f141 actionTable 'listOfDeletedFiles=in.selectedFilesList;
' #txt
Fs0 f141 actionCode panel.fireFilesDeleted(listOfDeletedFiles); #txt
Fs0 f141 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f141 fireEvent filesDeleted(List<java.io.File>) #txt
Fs0 f141 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>filesDeleted</name>
        <nameStyle>12,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f141 2814 436 36 24 -89 -6 #rect
Fs0 f141 @|RichDialogFireEventIcon #fIcon
Fs0 f142 expr out #txt
Fs0 f142 2832 412 2832 436 #arcP
Fs0 f123 expr out #txt
Fs0 f123 2832 460 2832 483 #arcP
Fs0 f144 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f144 actionTable 'out=in;
' #txt
Fs0 f144 actionCode 'panel.uploadMenuItem.setEnabled(in.tmpBoolean);
panel.uploadButton.setEnabled(in.tmpBoolean);' #txt
Fs0 f144 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f144 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f144 1446 452 36 24 20 -2 #rect
Fs0 f144 @|RichDialogProcessStepIcon #fIcon
Fs0 f146 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f146 1451 491 26 26 14 0 #rect
Fs0 f146 @|RichDialogProcessEndIcon #fIcon
Fs0 f147 expr out #txt
Fs0 f147 1464 476 1464 491 #arcP
Fs0 f143 guid 11FCC1428B6832FC #txt
Fs0 f143 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f143 method setUploadEnabled(Boolean) #txt
Fs0 f143 disableUIEvents false #txt
Fs0 f143 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean enabled> param = methodEvent.getInputArguments();
' #txt
Fs0 f143 inParameterMapAction 'out.tmpBoolean=param.enabled;
' #txt
Fs0 f143 outParameterDecl '<> result;
' #txt
Fs0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setUploadEnabled(Boolean)</name>
        <nameStyle>25,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f143 1454 414 20 20 -44 -29 #rect
Fs0 f143 @|RichDialogMethodStartIcon #fIcon
Fs0 f145 expr out #txt
Fs0 f145 1464 434 1464 452 #arcP
Fs0 f148 guid 1200ED2C0D658472 #txt
Fs0 f148 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f148 method startWithPathAndToolbar(String,Boolean) #txt
Fs0 f148 disableUIEvents false #txt
Fs0 f148 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path,java.lang.Boolean isToolBarVisible> param = methodEvent.getInputArguments();
' #txt
Fs0 f148 inParameterMapAction 'out.configurationController.rootPath=param.path;
out.configurationController.toolBarVisible=param.isToolBarVisible;
' #txt
Fs0 f148 outParameterDecl '<> result;
' #txt
Fs0 f148 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f148 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithPath
AndToolbar(String,Boolean)</name>
        <nameStyle>40,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f148 454 142 20 20 13 0 #rect
Fs0 f148 @|RichDialogInitStartIcon #fIcon
Fs0 f149 guid 1200ED2CF3D7F590 #txt
Fs0 f149 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f149 method startWithPathAndToolbarAndMultipleSelectionAllowed(String,Boolean,Boolean) #txt
Fs0 f149 disableUIEvents false #txt
Fs0 f149 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path,java.lang.Boolean isToolBarVisible,java.lang.Boolean isMultipleSelectionAllowed> param = methodEvent.getInputArguments();
' #txt
Fs0 f149 inParameterMapAction 'out.configurationController.rootPath=param.path;
out.configurationController.toolBarVisible=param.isToolBarVisible;
out.multipleSelectionAllowed=param.isMultipleSelectionAllowed;
' #txt
Fs0 f149 outParameterDecl '<> result;
' #txt
Fs0 f149 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f149 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithPath
AndToolbarAndMultipleSelectionAllowed
(String,Boolean,Boolean)</name>
        <nameStyle>76,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f149 454 222 20 20 13 0 #rect
Fs0 f149 @|RichDialogInitStartIcon #fIcon
Fs0 f150 expr out #txt
Fs0 f150 455 156 338 222 #arcP
Fs0 f151 expr out #txt
Fs0 f151 454 232 338 232 #arcP
Fs0 f152 guid 1200ED56C47F1518 #txt
Fs0 f152 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f152 method isToolbarVisible() #txt
Fs0 f152 disableUIEvents false #txt
Fs0 f152 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f152 outParameterDecl '<java.lang.Boolean isToolbarVisible> result;
' #txt
Fs0 f152 outParameterMapAction 'result.isToolbarVisible=in.isToolbarVisible;
' #txt
Fs0 f152 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>isToolbarVisible()</name>
        <nameStyle>18,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f152 1590 1030 20 20 13 0 #rect
Fs0 f152 @|RichDialogMethodStartIcon #fIcon
Fs0 f153 guid 1200ED57F13B12F7 #txt
Fs0 f153 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f153 method setToolbarVisible(Boolean) #txt
Fs0 f153 disableUIEvents false #txt
Fs0 f153 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean isToolbarVisible> param = methodEvent.getInputArguments();
' #txt
Fs0 f153 inParameterMapAction 'out.isToolbarVisible=param.isToolbarVisible;
' #txt
Fs0 f153 outParameterDecl '<> result;
' #txt
Fs0 f153 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setToolbarVisible(Boolean)</name>
        <nameStyle>26,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f153 1590 1126 20 20 13 0 #rect
Fs0 f153 @|RichDialogMethodStartIcon #fIcon
Fs0 f154 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f154 1587 1075 26 26 14 0 #rect
Fs0 f154 @|RichDialogProcessEndIcon #fIcon
Fs0 f155 expr out #txt
Fs0 f155 1600 1050 1600 1075 #arcP
Fs0 f156 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f156 1587 1179 26 26 14 0 #rect
Fs0 f156 @|RichDialogProcessEndIcon #fIcon
Fs0 f157 expr out #txt
Fs0 f157 1600 1146 1600 1179 #arcP
Fs0 f158 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f158 actionTable 'out=in;
' #txt
Fs0 f158 actionCode out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/overwriteFiles"); #txt
Fs0 f158 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f158 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f158 1462 644 36 24 20 -2 #rect
Fs0 f158 @|RichDialogProcessStepIcon #fIcon
Fs0 f160 actionDecl 'List<java.io.File> files;
' #txt
Fs0 f160 actionTable 'files=in.tmpFilesList;
' #txt
Fs0 f160 actionCode panel.fireFilesSuccessfullyUploaded(files); #txt
Fs0 f160 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f160 fireEvent filesSuccessfullyUploaded(List<java.io.File>) #txt
Fs0 f160 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>filesSuccessfullyUploaded</name>
        <nameStyle>25,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f160 2070 308 36 24 20 -2 #rect
Fs0 f160 @|RichDialogFireEventIcon #fIcon
Fs0 f67 expr out #txt
Fs0 f67 2088 332 2088 363 #arcP
Fs0 f139 expr out #txt
Fs0 f139 2088 244 2088 308 #arcP
Fs0 f140 guid 1274CEC3E846BBC7 #txt
Fs0 f140 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f140 method startWithPathAndIvyDbConnectionNameAndDBTableNameAndDBSchemaNameAndIsToolbarVisisbleAndIsMultipleSelectionAllowed(String,String,String,String,Boolean,Boolean) #txt
Fs0 f140 disableUIEvents true #txt
Fs0 f140 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String path,java.lang.String ivyDBConnectionName,java.lang.String DbTableName,java.lang.String DBSchemaName,java.lang.Boolean isToolbarVisible,java.lang.Boolean isMultipleSelectionAllowed> param = methodEvent.getInputArguments();
' #txt
Fs0 f140 inParameterMapAction 'out.configurationController.databaseSchemaName=param.DBSchemaName;
out.configurationController.filesTableName=param.DbTableName;
out.configurationController.ivyDBConnectionName=param.ivyDBConnectionName;
out.configurationController.rootPath=param.path;
out.configurationController.toolBarVisible=param.isToolbarVisible;
out.multipleSelectionAllowed=param.isMultipleSelectionAllowed;
' #txt
Fs0 f140 outParameterDecl '<> result;
' #txt
Fs0 f140 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f140 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithPath
AndIvyDbConnectionName
AndDBTableName
AndDBSchemaName
AndIsToolbarVisisble
AndIsMultipleSelectionAllowed
(String,String,String,String,Boolean,Boolean)</name>
        <nameStyle>164,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f140 454 302 20 20 13 -13 #rect
Fs0 f140 @|RichDialogInitStartIcon #fIcon
Fs0 f161 expr out #txt
Fs0 f161 455 307 338 242 #arcP
Fs0 f162 guid 1274D04B712D4C26 #txt
Fs0 f162 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f162 method deleteFiles() #txt
Fs0 f162 disableUIEvents false #txt
Fs0 f162 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f162 outParameterDecl '<ch.ivyteam.ivy.addons.filemanager.ReturnedMessage returnedMessage> result;
' #txt
Fs0 f162 outParameterMapAction 'result.returnedMessage=in.returnedMessage;
' #txt
Fs0 f162 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>deleteFiles()</name>
        <nameStyle>13,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f162 1190 38 20 20 13 0 #rect
Fs0 f162 @|RichDialogMethodStartIcon #fIcon
Fs0 f163 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f163 actionTable 'out=in;
' #txt
Fs0 f163 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;
try{

	in.returnedMessage=in.fileManagementHandler.deleteDocumentOnServers(in.documentsInDb);
	
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}

panel.refreshWithCheck();' #txt
Fs0 f163 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f163 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f163 1182 92 36 24 20 -2 #rect
Fs0 f163 @|RichDialogProcessStepIcon #fIcon
Fs0 f163 -613726|-613726|-16777216 #nodeStyle
Fs0 f164 expr out #txt
Fs0 f164 1200 58 1200 92 #arcP
Fs0 f165 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f165 1190 150 20 20 13 0 #rect
Fs0 f165 @|RichDialogProcessEndIcon #fIcon
Fs0 f166 expr out #txt
Fs0 f166 1200 116 1200 150 #arcP
Fs0 f167 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f167 actionTable 'out=in;
' #txt
Fs0 f167 actionCode 'if(in.#uploadManager != null){

	in.uploadManager.uploadWithoutShowingProgress(true);
}' #txt
Fs0 f167 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f167 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f167 2638 388 36 24 20 -2 #rect
Fs0 f167 @|RichDialogProcessStepIcon #fIcon
Fs0 f168 expr out #txt
Fs0 f168 2656 362 2656 388 #arcP
Fs0 f51 expr out #txt
Fs0 f51 2656 412 2656 427 #arcP
Fs0 f169 guid 129DB74CBC7A111F #txt
Fs0 f169 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f169 method startUsingIvySystemDBWithServerPathAndToolbarAndMultipleSelectionAllowed(String,Boolean,Boolean) #txt
Fs0 f169 disableUIEvents true #txt
Fs0 f169 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String serverPath,java.lang.Boolean toolbarVisible,java.lang.Boolean multipleSelectionAllowed> param = methodEvent.getInputArguments();
' #txt
Fs0 f169 inParameterMapAction 'out.configurationController.rootPath=param.serverPath;
out.configurationController.toolBarVisible=param.toolbarVisible;
out.configurationController.useIvySystemDB=true;
out.multipleSelectionAllowed=param.multipleSelectionAllowed;
' #txt
Fs0 f169 outParameterDecl '<> result;
' #txt
Fs0 f169 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startUsingIvySystemDBWith
ServerPath
AndToolbar
AndMultipleSelectionAllowed
(String,Boolean,Boolean)</name>
        <nameStyle>100,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f169 470 454 20 20 13 0 #rect
Fs0 f169 @|RichDialogInitStartIcon #fIcon
Fs0 f173 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f173 actionTable 'out=in;
' #txt
Fs0 f173 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
try{
	boolean b =in.fileManagementHandler.lockDocument(in.selectedDocumentOnServer,ivy.session.getSessionUserName());
	if(in.selectedDocumentOnServer.getJavaFile()==null){
		in.selectedDocumentOnServer = in.fileManagementHandler.getDocumentOnServerWithJavaFile(in.selectedDocumentOnServer);
	}
	if(b){
		panel.desktopHandlerPanel.openDocumentOnServerAndCheckForChanges(in.selectedDocumentOnServer);
		for(DocumentOnServer doc:in.documentsInDb){
			if(doc.getFilename().compareTo(in.selectedDocumentOnServer.getFilename())==0){
				doc.locked="1";
				break;
			}
		}
	}else{
		panel.desktopHandlerPanel.openFile(in.selectedDocumentOnServer.getJavaFile());
	}
	if(in.configurationController.fileActionHistoryConfiguration.readFileTracked){
		in.fileManagementHandler.fileActionHistoryController.createNewActionHistory(Long.parseLong(in.selectedDocumentOnServer.fileID),8,ivy.session.getSessionUserName(),"");
	}
	panel.fileListTable.refresh();
	
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}' #txt
Fs0 f173 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f173 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f173 2638 124 36 24 20 -2 #rect
Fs0 f173 @|RichDialogProcessStepIcon #fIcon
Fs0 f173 -14336|-1|-16777216 #nodeStyle
Fs0 f174 expr out #txt
Fs0 f174 2656 90 2656 124 #arcP
Fs0 f48 expr out #txt
Fs0 f48 2656 148 2656 211 #arcP
Fs0 f175 guid 12AE6952674769C1 #txt
Fs0 f175 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f175 broadcast SE_fileLocked #txt
Fs0 f175 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f175 actionTable 'out=in;
' #txt
Fs0 f175 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileHandler;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
List l = param.panelIdAndDocumentOnServerLocked;

in.updateList=false;
if(l.size()==2 && l.get(0) instanceof Number && l.get(1) instanceof DocumentOnServer){
	Number n = l.get(0) as Number;
	if(n!= in.panelId){
		DocumentOnServer doc = l.get(1) as DocumentOnServer;
		String sep = (doc.path.contains("/"))?"/":"\\";
		String docPath = doc.path.substring(0,doc.path.lastIndexOf(sep));
		docPath = FileHandler.formatPathWithEndSeparator(docPath,false);
		//ivy.log.debug(docPath);
		//ivy.log.debug(doc.filename);
		
		if(in.#configurationController.#rootPath !=null){
			String folderPath=FileHandler.formatPathWithEndSeparator(in.configurationController.rootPath,false);
			if(folderPath.equalsIgnoreCase(docPath)){
				List<DocumentOnServer> docs = new List<DocumentOnServer>();
				docs.addAll(in.documentsInDb);
				in.documentsInDb.clear();
				for(int i=0; i<docs.size();i++){
					if(docs.get(i).filename.equalsIgnoreCase(doc.filename)){
						docs.get(i).setLocked("1");
						docs.get(i).lockingUserID=doc.lockingUserID;
						in.updateList=true;
						break;
					}
				}
				out.documentsInDb.addAll(docs);
			}
	
		}
	}
}' #txt
Fs0 f175 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>SE_fileLocked</name>
        <nameStyle>13,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f175 3182 54 20 20 13 0 #rect
Fs0 f175 @|RichDialogBroadcastStartIcon #fIcon
Fs0 f176 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f176 3182 110 20 20 13 0 #rect
Fs0 f176 @|RichDialogProcessEndIcon #fIcon
Fs0 f177 expr out #txt
Fs0 f177 3192 74 3192 110 #arcP
Fs0 f178 guid 12AE69B1BD1DE94C #txt
Fs0 f178 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f178 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f178 actionTable 'out=in;
' #txt
Fs0 f178 actionCode 'try{
	in.fileManagementHandler.unlockFilesEdited(in.configurationController.rootPath,ivy.session.getSessionUserName(),false);
}catch(Throwable t){
	ivy.log.error(t.getMessage(),t);
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
}' #txt
Fs0 f178 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onUnload</name>
        <nameStyle>8,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f178 2894 598 20 20 -28 -31 #rect
Fs0 f178 @|RichDialogProcessStartIcon #fIcon
Fs0 f179 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f179 2894 694 20 20 13 0 #rect
Fs0 f179 @|RichDialogProcessEndIcon #fIcon
Fs0 f181 guid 12B426CB5E9DCD91 #txt
Fs0 f181 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f181 method setIconSize(String) #txt
Fs0 f181 disableUIEvents false #txt
Fs0 f181 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String sizeInPixel> param = methodEvent.getInputArguments();
' #txt
Fs0 f181 inParameterMapAction 'out.iconSize=param.sizeInPixel;
' #txt
Fs0 f181 outParameterDecl '<> result;
' #txt
Fs0 f181 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setIconSize(String)</name>
        <nameStyle>19,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f181 846 406 20 20 -50 -31 #rect
Fs0 f181 @|RichDialogMethodStartIcon #fIcon
Fs0 f182 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f182 actionTable 'out=in;
' #txt
Fs0 f182 actionCode 'if(!in.iconSize.equals("16") && !in.iconSize.equals("24") && !in.iconSize.equals("32")
	&& !in.iconSize.equals("48")
	&& !in.iconSize.equals("72")){
	in.iconSize="24";
}

panel.openButton.setIconUri(ivy.cms.cr("/ch/ivyteam/ivy/addons/icons/file/"+in.iconSize));
panel.uploadButton.setIconUri(ivy.cms.cr("/ch/ivyteam/ivy/addons/icons/up/"+in.iconSize));
panel.deleteButton.setIconUri(ivy.cms.cr("/ch/ivyteam/ivy/addons/icons/delete/"+in.iconSize));
panel.unlockButton.setIconUri(ivy.cms.cr("/ch/ivyteam/ivy/addons/icons/unlock/"+in.iconSize));' #txt
Fs0 f182 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f182 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f182 838 452 36 24 20 -2 #rect
Fs0 f182 @|RichDialogProcessStepIcon #fIcon
Fs0 f183 expr out #txt
Fs0 f183 856 426 856 452 #arcP
Fs0 f184 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f184 846 518 20 20 13 0 #rect
Fs0 f184 @|RichDialogProcessEndIcon #fIcon
Fs0 f185 expr out #txt
Fs0 f185 856 476 856 518 #arcP
Fs0 f186 guid 12B7C85DB9C68EC0 #txt
Fs0 f186 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f186 method editFile(java.io.File) #txt
Fs0 f186 disableUIEvents false #txt
Fs0 f186 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.io.File fileToEdit> param = methodEvent.getInputArguments();
' #txt
Fs0 f186 inParameterMapAction 'out.selectedFile=param.fileToEdit;
' #txt
Fs0 f186 outParameterDecl '<> result;
' #txt
Fs0 f186 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>editFile(File)</name>
        <nameStyle>14,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f186 1238 350 20 20 -31 -27 #rect
Fs0 f186 @|RichDialogMethodStartIcon #fIcon
Fs0 f187 guid 12B7C862430BC1EB #txt
Fs0 f187 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f187 method printFile(java.io.File) #txt
Fs0 f187 disableUIEvents false #txt
Fs0 f187 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.io.File fileToPrint> param = methodEvent.getInputArguments();
' #txt
Fs0 f187 inParameterMapAction 'out.selectedFile=param.fileToPrint;
' #txt
Fs0 f187 outParameterDecl '<> result;
' #txt
Fs0 f187 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>printFile(File)</name>
        <nameStyle>15,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f187 1350 350 20 20 -30 -26 #rect
Fs0 f187 @|RichDialogMethodStartIcon #fIcon
Fs0 f188 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f188 actionTable 'out=in;
' #txt
Fs0 f188 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
boolean b =false;
if(in.#selectedFile!=null){
	DocumentOnServer doc = new DocumentOnServer();
	try{
		doc = in.fileManagementHandler.getDocumentOnServerWithJavaFile(in.selectedFile.getPath());
		b =in.fileManagementHandler.lockFile(in.selectedFile,ivy.session.getSessionUserName());
		if(in.configurationController.fileActionHistoryConfiguration.readFileTracked)
		{
			in.fileManagementHandler.fileActionHistoryController.createNewActionHistory(Long.parseLong(doc.fileID),8,ivy.session.getSessionUserName(),"");
		}
	
	}catch(Throwable t){
			
	}
	if(doc != null && doc.getJavaFile()!=null && b)
	{
		panel.desktopHandlerPanel.openDocumentOnServerAndCheckForChanges(doc);
	
	}else if(b){
		panel.desktopHandlerPanel.editFile(in.selectedFile);
	}else
	{
		panel.desktopHandlerPanel.openFile(in.selectedFile);
	}
}else{
	ivy.log.error("Trying to edit a null java.io.File in the FileListTable RDC with the editFile(java.io.File file) method.");
}
panel.refresh();' #txt
Fs0 f188 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f188 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f188 1230 404 36 24 20 -2 #rect
Fs0 f188 @|RichDialogProcessStepIcon #fIcon
Fs0 f188 -14336|-1|-16777216 #nodeStyle
Fs0 f189 expr out #txt
Fs0 f189 1248 370 1248 404 #arcP
Fs0 f190 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f190 1238 462 20 20 13 0 #rect
Fs0 f190 @|RichDialogProcessEndIcon #fIcon
Fs0 f191 expr out #txt
Fs0 f191 1248 428 1248 462 #arcP
Fs0 f192 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f192 actionTable 'out=in;
' #txt
Fs0 f192 actionCode 'panel.desktopHandlerPanel.printFile(in.selectedFile);
try{
	long id = Long.parseLong(in.fileManagementHandler.getDocumentOnServer(in.selectedFile.getPath()).fileID);
	if(in.configurationController.fileActionHistoryConfiguration.printFileTracked)
		{
			in.fileManagementHandler.fileActionHistoryController.createNewActionHistory(id,7,ivy.session.getSessionUserName(),"");
		}
}catch(Throwable t){
		
}' #txt
Fs0 f192 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f192 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f192 1342 396 36 24 20 -2 #rect
Fs0 f192 @|RichDialogProcessStepIcon #fIcon
Fs0 f192 -14336|-1|-16777216 #nodeStyle
Fs0 f193 expr out #txt
Fs0 f193 1360 370 1360 396 #arcP
Fs0 f194 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f194 1350 462 20 20 13 0 #rect
Fs0 f194 @|RichDialogProcessEndIcon #fIcon
Fs0 f195 expr out #txt
Fs0 f195 1360 420 1360 462 #arcP
Fs0 f196 guid 12BA9689F28BA6AF #txt
Fs0 f196 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f196 broadcast errorOccurred #txt
Fs0 f196 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f196 actionTable 'out=in;
out.incomingErrorUtil=param.errorUtil;
' #txt
Fs0 f196 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>errorOccurred</name>
        <nameStyle>13,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f196 3182 182 20 20 13 0 #rect
Fs0 f196 @|RichDialogBroadcastStartIcon #fIcon
Fs0 f197 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f197 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>same panel?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f197 3178 234 28 28 14 0 #rect
Fs0 f197 @|AlternativeIcon #fIcon
Fs0 f198 expr out #txt
Fs0 f198 3192 202 3192 234 #arcP
Fs0 f203 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f203 3182 382 20 20 13 0 #rect
Fs0 f203 @|RichDialogProcessEndIcon #fIcon
Fs0 f205 expr in #txt
Fs0 f205 3206 248 3202 392 #arcP
Fs0 f205 1 3283 248 #addKink
Fs0 f205 2 3283 392 #addKink
Fs0 f205 1 0.4039338582002615 0 0 #arcLabel
Fs0 f199 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f199 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>error?</name>
        <nameStyle>6,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f199 306 538 28 28 14 0 #rect
Fs0 f199 @|AlternativeIcon #fIcon
Fs0 f200 expr out #txt
Fs0 f200 320 244 320 538 #arcP
Fs0 f202 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f202 actionTable 'out=in;
' #txt
Fs0 f202 actionCode 'try{
	in.fileManagementHandler.unlockFilesEdited(in.configurationController.rootPath,ivy.session.getSessionUserName(),false);
}catch(Throwable t){
	ivy.log.error(t.getMessage(),t);
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
}' #txt
Fs0 f202 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f202 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Fs0 f202 2886 644 36 24 20 -2 #rect
Fs0 f202 @|RichDialogProcessStepIcon #fIcon
Fs0 f207 expr out #txt
Fs0 f207 2904 618 2904 644 #arcP
Fs0 f180 expr out #txt
Fs0 f180 2904 668 2904 694 #arcP
Fs0 f212 guid 12EAEAE8843B646B #txt
Fs0 f212 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f212 method _uploadFilesFromOSDnD(List<String>) #txt
Fs0 f212 disableUIEvents false #txt
Fs0 f212 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<List<java.lang.String> clientFilesPathList> param = methodEvent.getInputArguments();
' #txt
Fs0 f212 inParameterMapAction 'out.filesToUpload=param.clientFilesPathList;
' #txt
Fs0 f212 outParameterDecl '<> result;
' #txt
Fs0 f212 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_uploadFilesFromOSDnD(List&lt;String&gt;)</name>
        <nameStyle>35,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f212 1854 478 20 20 -96 -33 #rect
Fs0 f212 @|RichDialogMethodStartIcon #fIcon
Fs0 f225 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f225 actionTable 'out=in;
' #txt
Fs0 f225 actionCode panel.refresh(); #txt
Fs0 f225 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f225 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f225 2030 1204 36 24 20 -2 #rect
Fs0 f225 @|RichDialogProcessStepIcon #fIcon
Fs0 f819 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f819 actionTable 'out=in;
' #txt
Fs0 f819 actionCode out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/Warning"); #txt
Fs0 f819 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f819 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>information Message</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f819 1758 700 36 24 -61 -32 #rect
Fs0 f819 @|RichDialogProcessStepIcon #fIcon
Fs0 f836 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f836 1766 782 20 20 13 0 #rect
Fs0 f836 @|RichDialogProcessEndIcon #fIcon
Fs0 f830 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f830 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>still some files?</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f830 1818 1154 28 28 -45 -33 #rect
Fs0 f830 @|AlternativeIcon #fIcon
Fs0 f824 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f824 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>overwrite?</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f824 1850 962 28 28 8 -19 #rect
Fs0 f824 @|AlternativeIcon #fIcon
Fs0 f821 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f821 actionTable 'out=in;
' #txt
Fs0 f821 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;
in.docsToOverwrite.clear();
//List<DocumentOnServer> l = FileHandler.getDocumentsInDir(new java.io.File(in.path));
List<DocumentOnServer> l = in.fileManagementHandler.getDocumentsInPath(in.configurationController.rootPath,false);

for(String s: in.filesToUpload){
	for(DocumentOnServer doc:l){
		if(doc.getFilename().equalsIgnoreCase(new java.io.File(s.toLowerCase()).getName())){
			in.docsToOverwrite.add(doc);
			break;
		}
	}
}' #txt
Fs0 f821 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f821 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the 
Files to overwrite in the rest
of the files to upload</name>
        <nameStyle>9,7
53,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f821 1846 764 36 24 19 -35 #rect
Fs0 f821 @|RichDialogProcessStepIcon #fIcon
Fs0 f821 -613726|-613726|-16777216 #nodeStyle
Fs0 f809 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f809 actionTable 'out=in;
' #txt
Fs0 f809 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/overwriteFiles");
in.tmpString=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/question/overwriteExistingFiles").replaceFirst("</html>","")+"<br>";
for(DocumentOnServer doc : in.docsToOverwrite){
	in.tmpString+=doc.filename+"<br>";
}

in.tmpString+="</html>";' #txt
Fs0 f809 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f809 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>message to ask
the user if he wants to 
overwrite the existing files.</name>
        <nameStyle>15,7
54,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f809 1846 852 36 24 -143 -22 #rect
Fs0 f809 @|RichDialogProcessStepIcon #fIcon
Fs0 f817 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f817 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>are there some
files still to upload?</name>
        <nameStyle>15,7
22,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f817 1850 698 28 28 23 -20 #rect
Fs0 f817 @|AlternativeIcon #fIcon
Fs0 f221 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f221 2038 1246 20 20 13 0 #rect
Fs0 f221 @|RichDialogProcessEndIcon #fIcon
Fs0 f217 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f217 actionTable 'out=in;
' #txt
Fs0 f217 actionCode 'List<java.io.File> files = new List<java.io.File>();
for(String s : in.filesToUpload){
	files.add(new java.io.File(s));
}
for(java.io.File f: files)
{
	in.uploadManager.uploadPreparedUploadWithoutShowingProgress(f);
}
//in.uploadManager.uploadPreparedFilesWithoutShowingProgress(files);
' #txt
Fs0 f217 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f217 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>upload the files</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f217 2030 1156 36 24 20 -2 #rect
Fs0 f217 @|RichDialogProcessStepIcon #fIcon
Fs0 f815 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f815 actionTable 'out=in;
' #txt
Fs0 f815 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

List<DocumentOnServer> l = in.fileManagementHandler.getDocumentsInPath(in.configurationController.rootPath,false);

in.filesToOverwrite.clear();

List<String> filesLocked = new List<String>();
for(DocumentOnServer doc : l){
	if(doc.locked.equals("1"))
	{
		for(String p : in.filesToUpload){
			if(new java.io.File(p).getName().equalsIgnoreCase(doc.filename)){
				filesLocked.add(p);
			}
		}
	}
}

out.filesToUpload=in.filesToUpload.removeAll(filesLocked);
' #txt
Fs0 f815 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f815 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exclude the
locked files</name>
        <nameStyle>12,7
12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f815 1847 652 34 24 20 -18 #rect
Fs0 f815 @|RichDialogProcessStepIcon #fIcon
Fs0 f215 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f215 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>files to overwrite?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f215 1850 570 28 28 5 -17 #rect
Fs0 f215 @|AlternativeIcon #fIcon
Fs0 f828 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f828 actionTable 'out=in;
' #txt
Fs0 f828 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileHandler;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
List<String> files = new List<String>();

for(String s : in.filesToUpload){
	boolean found = false;
	for(DocumentOnServer doc: in.docsToOverwrite){
		if(new java.io.File(s).getName().equalsIgnoreCase(doc.getFilename())){
			found=true;
			break;
		}
	}
	if(!found){
		files.add(s);
	}
}

in.filesToUpload.clear();
in.filesToUpload.addAll(files);' #txt
Fs0 f828 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f828 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exclude the files
from upload process</name>
        <nameStyle>18,7
19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f828 1814 1068 36 24 -108 -13 #rect
Fs0 f828 @|RichDialogProcessStepIcon #fIcon
Fs0 f828 -613726|-613726|-16777216 #nodeStyle
Fs0 f213 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f213 actionTable 'out=in;
' #txt
Fs0 f213 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.addons.filemanager.FileHandler;

//List<DocumentOnServer> l = FileHandler.getDocumentsInDir(new java.io.File(in.path));
List<DocumentOnServer> l = in.fileManagementHandler.getDocumentsInPath(in.configurationController.rootPath,false);
List<String> files = new List<String>();
for(DocumentOnServer doc : l){
	files.add(doc.filename.toLowerCase());
}


for(String s: in.filesToUpload){
	if(files.contains(new java.io.File(s.toLowerCase()).getName())){
		in.filesToOverwrite.add(new java.io.File(s));
	}
}' #txt
Fs0 f213 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f213 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check if Files to be uploaded will overwrite 
existing files</name>
        <nameStyle>60,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f213 1846 524 36 24 21 -14 #rect
Fs0 f213 @|RichDialogProcessStepIcon #fIcon
Fs0 f213 -613726|-613726|-16777216 #nodeStyle
Fs0 f826 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f826 actionTable 'out=in;
' #txt
Fs0 f826 actionCode 'try{
	//in.fileManagementHandler.deleteFiles(in.filesToOverwrite);
	in.fileManagementHandler.deleteDocumentOnServers(in.docsToOverwrite);
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}' #txt
Fs0 f826 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f826 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove files from 
FileManagement
persistency system</name>
        <nameStyle>34,7
18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f826 1878 1020 36 24 19 -22 #rect
Fs0 f826 @|RichDialogProcessStepIcon #fIcon
Fs0 f826 -613726|-613726|-16777216 #nodeStyle
Fs0 f216 expr out #txt
Fs0 f216 1864 548 1864 570 #arcP
Fs0 f218 expr in #txt
Fs0 f218 outCond in.filesToOverwrite.isEmpty() #txt
Fs0 f218 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,0,7,22
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f218 1878 584 2048 1156 #arcP
Fs0 f218 1 2048 584 #addKink
Fs0 f218 1 0.3414951814419749 0 0 #arcLabel
Fs0 f818 expr out #txt
Fs0 f818 1864 676 1864 698 #arcP
Fs0 f820 expr in #txt
Fs0 f820 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f820 1850 712 1794 712 #arcP
Fs0 f822 expr in #txt
Fs0 f822 outCond !in.filesToUpload.isEmpty() #txt
Fs0 f822 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f822 1864 726 1864 764 #arcP
Fs0 f827 expr in #txt
Fs0 f827 outCond in.tmpString.equals(ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes")) #txt
Fs0 f827 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f827 1878 976 1896 1020 #arcP
Fs0 f827 1 1896 976 #addKink
Fs0 f827 1 0.18060195155554568 0 0 #arcLabel
Fs0 f829 expr in #txt
Fs0 f829 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f829 1850 976 1832 1068 #arcP
Fs0 f829 1 1832 976 #addKink
Fs0 f829 1 0.3315932036507914 0 0 #arcLabel
Fs0 f831 expr out #txt
Fs0 f831 1832 1092 1832 1154 #arcP
Fs0 f219 expr in #txt
Fs0 f219 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,0,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f219 1864 598 1864 652 #arcP
Fs0 f220 expr out #txt
Fs0 f220 1914 1032 2044 1156 #arcP
Fs0 f220 1 2000 1032 #addKink
Fs0 f220 1 0.14380498732436375 0 0 #arcLabel
Fs0 f223 expr in #txt
Fs0 f223 outCond in.filesToUpload.isEmpty() #txt
Fs0 f223 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f223 1832 1182 2038 1256 #arcP
Fs0 f223 1 1832 1256 #addKink
Fs0 f223 1 0.2947155315336824 0 0 #arcLabel
Fs0 f224 expr in #txt
Fs0 f224 1846 1168 2030 1168 #arcP
Fs0 f226 expr out #txt
Fs0 f226 2048 1180 2048 1204 #arcP
Fs0 f222 expr out #txt
Fs0 f222 2048 1228 2048 1246 #arcP
Fs0 f214 expr out #txt
Fs0 f214 1864 498 1864 524 #arcP
Fs0 f845 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f845 actionTable 'out=in;
' #txt
Fs0 f845 actionCode out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/Warning"); #txt
Fs0 f845 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f845 1950 812 36 24 20 -2 #rect
Fs0 f845 @|RichDialogProcessStepIcon #fIcon
Fs0 f227 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f227 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>still files to overwrite?</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f227 1850 810 28 28 -59 -23 #rect
Fs0 f227 @|AlternativeIcon #fIcon
Fs0 f227 -613726|-613726|-16777216 #nodeStyle
Fs0 f228 expr out #txt
Fs0 f228 1864 788 1864 810 #arcP
Fs0 f230 expr in #txt
Fs0 f230 outCond in.docsToOverwrite.isEmpty() #txt
Fs0 f230 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f230 1878 824 1950 824 #arcP
Fs0 f229 expr in #txt
Fs0 f229 1864 838 1864 852 #arcP
Fs0 f232 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f232 actionTable 'out=in;
' #txt
Fs0 f232 actionCode 'in.documentsInDb.clear();

//get the documents
try{
	in.documentsInDb.addAll(in.fileManagementHandler.getDocumentOnServersInDirectory(in.configurationController.rootPath,false));
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}' #txt
Fs0 f232 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f232 302 596 36 24 20 -2 #rect
Fs0 f232 @|RichDialogProcessStepIcon #fIcon
Fs0 f232 -613726|-613726|-16777216 #nodeStyle
Fs0 f233 expr in #txt
Fs0 f233 320 566 320 596 #arcP
Fs0 f55 expr out #txt
Fs0 f55 1214 608 338 608 #arcP
Fs0 f138 expr out #txt
Fs0 f138 1214 687 338 610 #arcP
Fs0 f138 0 0.49985951586286 0 0 #arcLabel
Fs0 f132 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f132 310 654 20 20 13 0 #rect
Fs0 f132 @|RichDialogProcessEndIcon #fIcon
Fs0 f234 expr out #txt
Fs0 f234 320 620 320 654 #arcP
Fs0 f235 expr in #txt
Fs0 f235 outCond in.errorUtil.errorOccurred #txt
Fs0 f235 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f235 306 552 310 664 #arcP
Fs0 f235 1 240 552 #addKink
Fs0 f235 2 240 664 #addKink
Fs0 f235 0 0.36363636363636365 0 -5 #arcLabel
Fs0 f237 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f237 actionTable 'out=in;
' #txt
Fs0 f237 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
in.tmpBoolean=false;
List<DocumentOnServer> docskeep = new List<DocumentOnServer>();

for(DocumentOnServer doc: in.returnedMessage.documentOnServers){//Check if some existing docs are locked
	for(DocumentOnServer docin: in.documentsInDb){
		if(doc.getFilename().compareTo(docin.getFilename())==0){
			if(docin.locked.equals("1")){
				in.tmpBoolean=true;
				doc.setLocked("1");
			}
			break;
		}
	}
}
if(in.tmpBoolean){//Some docs to override are locked, remove them from the list to override and from the list to upload
	List<java.io.File> filesToKeep = new List<java.io.File>();
	for(DocumentOnServer doc: in.returnedMessage.documentOnServers){
		if(!doc.locked.equals("1"))
		{
			docskeep.add(doc);
		}
	}
	for(java.io.File f:in.returnedMessage.files){
		boolean reject = false;
		for(DocumentOnServer doc: in.returnedMessage.documentOnServers){
			if(doc.getFilename().compareTo(f.getName())==0){
				if(doc.locked.equals("1"))
				{
					reject=true;
				}
				break;
			}
		}
		if(!reject){
			filesToKeep.add(f);
		}
	}
	in.returnedMessage.documentOnServers.clear();
	in.returnedMessage.documentOnServers.addAll(docskeep);
	in.returnedMessage.files.clear();
	in.returnedMessage.files.addAll(filesToKeep);
}

' #txt
Fs0 f237 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f237 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Are the existing Files
locked? Exclude them</name>
        <nameStyle>43,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f237 1558 540 36 24 24 -16 #rect
Fs0 f237 @|RichDialogProcessStepIcon #fIcon
Fs0 f238 expr out #txt
Fs0 f238 1576 506 1576 540 #arcP
Fs0 f239 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f239 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name></name>
    </language>
</elementInfo>
' #txt
Fs0 f239 1562 586 28 28 14 0 #rect
Fs0 f239 @|AlternativeIcon #fIcon
Fs0 f240 expr out #txt
Fs0 f240 1576 564 1576 586 #arcP
Fs0 f159 expr in #txt
Fs0 f159 outCond !in.returnedMessage.documentOnServers.isEmpty() #txt
Fs0 f159 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>there are still
files to override</name>
        <nameStyle>16,7
17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f159 1562 600 1480 644 #arcP
Fs0 f159 1 1480 600 #addKink
Fs0 f159 0 0.7780841373825325 0 0 #arcLabel
Fs0 f241 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f241 actionTable 'out=in;
' #txt
Fs0 f241 actionCode out.windowTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/Warning"); #txt
Fs0 f241 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f241 1654 588 36 24 20 -2 #rect
Fs0 f241 @|RichDialogProcessStepIcon #fIcon
Fs0 f242 expr in #txt
Fs0 f242 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>No files to 
override
anymore</name>
        <nameStyle>22,7
7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f242 1590 600 1654 600 #arcP
Fs0 f242 0 0.40625 0 23 #arcLabel
Fs0 f249 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f249 actionTable 'out=in;
' #txt
Fs0 f249 actionCode panel.refresh(); #txt
Fs0 f249 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f249 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f249 1558 852 36 24 20 -2 #rect
Fs0 f249 @|RichDialogProcessStepIcon #fIcon
Fs0 f250 expr out #txt
Fs0 f250 1576 812 1576 852 #arcP
Fs0 f78 expr out #txt
Fs0 f78 1576 876 1576 907 #arcP
Fs0 f251 actionDecl 'List<ch.ivyteam.ivy.addons.filemanager.DocumentOnServer> selectedDocumentOnServers;
' #txt
Fs0 f251 actionTable 'selectedDocumentOnServers=in.selectedDocumentOnServerList;
' #txt
Fs0 f251 actionCode panel.fireDocumentSelectionChanged(selectedDocumentOnServers); #txt
Fs0 f251 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f251 fireEvent documentSelectionChanged(List<ch.ivyteam.ivy.addons.filemanager.DocumentOnServer>) #txt
Fs0 f251 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>documentSelectionChanged@SUBSC</name>
        <nameStyle>30
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f251 2510 172 36 24 -161 4 #rect
Fs0 f251 @|RichDialogFireEventIcon #fIcon
Fs0 f37 expr out #txt
Fs0 f37 2528 196 2528 235 #arcP
Fs0 f253 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f253 actionTable 'out=in;
' #txt
Fs0 f253 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

in.selectedDocumentOnServerList.clear();
boolean oneLock=false;
	for(Object o: panel.fileListTable.selectedListEntries){
		try{
			DocumentOnServer doc = o as DocumentOnServer;
			if(doc.locked.compareTo("1")==0){
				oneLock=true;
			}
			in.selectedDocumentOnServerList.add(doc);
		}catch(Throwable t){
				//do nothing
		}
	}
	
panel.deleteButton.enabled=!oneLock;
panel.deleteMenuItem.enabled=!oneLock;
panel.unlockButton.enabled=oneLock;
panel.unockMenuItem.enabled=oneLock;' #txt
Fs0 f253 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f253 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>make list of selected
documents</name>
        <nameStyle>31,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f253 2510 116 36 24 -134 -13 #rect
Fs0 f253 @|RichDialogProcessStepIcon #fIcon
Fs0 f254 expr out #txt
Fs0 f254 2528 90 2528 116 #arcP
Fs0 f252 expr out #txt
Fs0 f252 2528 140 2528 172 #arcP
Fs0 f255 expr out #txt
Fs0 f255 2784 332 2824 388 #arcP
Fs0 f54 expr out #txt
Fs0 f54 2873 332 2839 388 #arcP
Fs0 f1 guid 137AED8990FA67CB #txt
Fs0 f1 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f1 method start(ch.ivyteam.ivy.addons.filemanager.configuration.FileManagerConfigurationController) #txt
Fs0 f1 disableUIEvents true #txt
Fs0 f1 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.addons.filemanager.configuration.FileManagerConfigurationController configurationController> param = methodEvent.getInputArguments();
' #txt
Fs0 f1 inParameterMapAction 'out.configurationController=param.configurationController;
' #txt
Fs0 f1 outParameterDecl '<> result;
' #txt
Fs0 f1 embeddedRdInitializations '{/desktopHandlerPanel {/fieldName "desktopHandlerPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
Fs0 f1 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(FileManagerConfigurationController)</name>
        <nameStyle>41,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f1 94 78 20 20 -72 -30 #rect
Fs0 f1 @|RichDialogInitStartIcon #fIcon
Fs0 f8 expr out #txt
Fs0 f8 104 98 302 232 #arcP
Fs0 f8 1 104 232 #addKink
Fs0 f8 1 0.14905296657414588 0 0 #arcLabel
Fs0 f34 expr out #txt
Fs0 f34 470 464 322 244 #arcP
Fs0 f34 1 368 464 #addKink
Fs0 f34 1 0.26212398187290925 0 0 #arcLabel
Fs0 f53 guid 137BCC81F0B77534 #txt
Fs0 f53 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f53 method _uploadSuccessWithFilesInDB(ch.ivyteam.ivy.addons.filemanager.ReturnedMessage) #txt
Fs0 f53 disableUIEvents false #txt
Fs0 f53 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.addons.filemanager.ReturnedMessage returnedMessage> param = methodEvent.getInputArguments();
' #txt
Fs0 f53 inParameterMapAction 'out.returnedMessage=param.returnedMessage;
' #txt
Fs0 f53 outParameterDecl '<> result;
' #txt
Fs0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_uploadSuccessWithFilesInDB(ReturnedMessage)</name>
        <nameStyle>44,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f53 1838 110 20 20 -121 -25 #rect
Fs0 f53 @|RichDialogMethodStartIcon #fIcon
Fs0 f56 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f56 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check if at least one 
document was uploaded</name>
        <nameStyle>44
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f56 1834 154 28 28 15 -15 #rect
Fs0 f56 @|AlternativeIcon #fIcon
Fs0 f57 expr out #txt
Fs0 f57 1848 130 1848 154 #arcP
Fs0 f58 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f58 actionTable 'out=in;
' #txt
Fs0 f58 actionCode 'int id=0;
try{
	id=in.fileManagementHandler.insertDocuments(in.returnedMessage.documentOnServers);
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred");
	panel.fireErrorOccurred(in.errorUtil);
}
if(id>0){
	in.documentsInDb.addAll(in.returnedMessage.documentOnServers);
	panel.openMenuItem.setEnabled(false);
	panel.deleteMenuItem.setEnabled(false);
}else{
	panel.refresh();
}
' #txt
Fs0 f58 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f58 1830 204 36 24 20 -2 #rect
Fs0 f58 @|RichDialogProcessStepIcon #fIcon
Fs0 f125 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f125 1838 310 20 20 13 0 #rect
Fs0 f125 @|RichDialogProcessEndIcon #fIcon
Fs0 f126 expr in #txt
Fs0 f126 outCond in.returnedMessage.documentOnServers.isEmpty() #txt
Fs0 f126 1834 168 1838 320 #arcP
Fs0 f126 1 1768 168 #addKink
Fs0 f126 2 1768 320 #addKink
Fs0 f126 1 0.3755103441408971 0 0 #arcLabel
Fs0 f119 expr in #txt
Fs0 f119 1848 182 1848 204 #arcP
Fs0 f127 actionDecl 'List<java.io.File> files;
' #txt
Fs0 f127 actionTable 'files=in.returnedMessage.files;
' #txt
Fs0 f127 actionCode panel.fireFilesSuccessfullyUploaded(files); #txt
Fs0 f127 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f127 fireEvent filesSuccessfullyUploaded(List<java.io.File>) #txt
Fs0 f127 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>filesSuccessfullyUploaded</name>
        <nameStyle>25
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f127 1830 252 36 24 20 -2 #rect
Fs0 f127 @|RichDialogFireEventIcon #fIcon
Fs0 f129 expr out #txt
Fs0 f129 1848 228 1848 252 #arcP
Fs0 f130 expr out #txt
Fs0 f130 1848 276 1848 310 #arcP
Fs0 f131 guid 137BD69A065DF423 #txt
Fs0 f131 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f131 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f131 actionTable 'out=in;
' #txt
Fs0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unlock</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f131 2950 374 20 20 13 0 #rect
Fs0 f131 @|RichDialogProcessStartIcon #fIcon
Fs0 f134 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f134 actionTable 'out=in;
' #txt
Fs0 f134 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
List<DocumentOnServer> l = new List<DocumentOnServer>();

for(DocumentOnServer doc: panel.fileListTable.selectedListEntries){
	doc.isLocked =false;
	l.add(doc);
}

panel.desktopHandlerPanel.unLockSelectedDocumentsOnServer(l);
' #txt
Fs0 f134 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f134 2942 436 36 24 20 -2 #rect
Fs0 f134 @|RichDialogProcessStepIcon #fIcon
Fs0 f170 expr out #txt
Fs0 f170 2960 394 2960 436 #arcP
Fs0 f171 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f171 2950 502 20 20 13 0 #rect
Fs0 f171 @|RichDialogProcessEndIcon #fIcon
Fs0 f172 expr out #txt
Fs0 f172 2960 460 2960 502 #arcP
Fs0 f208 guid 137BD6CFE2C4E3D2 #txt
Fs0 f208 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f208 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f208 actionTable 'out=in;
' #txt
Fs0 f208 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileCouple;
import ch.ivyteam.ivy.richdialog.exec.RdEvent;

RdEvent e = event as RdEvent;
if(e.getParameter() instanceof List<FileCouple>){
	List<FileCouple> list = e.getParameter() as List<FileCouple>;
	List<java.io.File> files = new List<java.io.File>();
	for(FileCouple fc: list){
		in.fileManagementHandler.unlockFile(new java.io.File(fc.serverSidePath));
		files.add(new java.io.File(fc.serverSidePath));
	}
	panel.fireSE_FilesUnlocked(files);
	
}' #txt
Fs0 f208 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unlockedDone</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f208 3006 422 20 20 13 0 #rect
Fs0 f208 @|RichDialogProcessStartIcon #fIcon
Fs0 f209 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f209 3006 470 20 20 13 0 #rect
Fs0 f209 @|RichDialogProcessEndIcon #fIcon
Fs0 f210 expr out #txt
Fs0 f210 3016 442 3016 470 #arcP
Fs0 f211 guid 137BD749B891CF5E #txt
Fs0 f211 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f211 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f211 actionTable 'out=in;
' #txt
Fs0 f211 actionCode 'import ch.ivyteam.ivy.addons.filemanager.IUserHelper;
import ch.ivyteam.ivy.richdialog.exec.RdEvent;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

RdEvent e = event as RdEvent;
List<java.io.File> unlockedFiles = new List<java.io.File>();
if(e.getParameter() instanceof List<DocumentOnServer>)
{
	List<DocumentOnServer> docs = e.getParameter() as List<DocumentOnServer>;
	for(DocumentOnServer doc:docs){
		if(doc.getLockingUserID()!=null && (doc.getLockingUserID().equalsIgnoreCase(ivy.session.getSessionUserName()) || !IUserHelper.isUserlogged(doc.getLockingUserID())))
		{//We force unlocking if the user is the one who had lock the file or the user is not logged anymore
			boolean b = in.fileManagementHandler.unlockDocument(doc);
			if(b)
			{
				unlockedFiles.add(new java.io.File(doc.getPath()));
			}
		}
	}
}

if(!unlockedFiles.isEmpty())
{
	panel.fireSE_FilesUnlocked(unlockedFiles);
}
panel.refreshWithCheck();' #txt
Fs0 f211 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unlockDocuments</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f211 3006 526 20 20 13 0 #rect
Fs0 f211 @|RichDialogProcessStartIcon #fIcon
Fs0 f256 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f256 3006 582 20 20 13 0 #rect
Fs0 f256 @|RichDialogProcessEndIcon #fIcon
Fs0 f257 expr out #txt
Fs0 f257 3016 546 3016 582 #arcP
Fs0 f236 guid 137BD809005657BC #txt
Fs0 f236 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f236 broadcast SE_FilesUnlocked #txt
Fs0 f236 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f236 actionTable 'out=in;
' #txt
Fs0 f236 actionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

if(!in.documentsInDb.isEmpty()){
	boolean found = false;
	for(java.io.File file:param.files){
		for(DocumentOnServer doc1:in.documentsInDb){
			if(doc1.path.compareToIgnoreCase(in.fileManagementHandler.escapeBackSlash(file.getPath()))==0 && doc1.locked=="1"){
				doc1.locked="0";
				found=true;
				break;
			}
		}
	}
	if(found){
		List<DocumentOnServer> l = new List<DocumentOnServer>();
		l.addAll(in.documentsInDb);
		in.documentsInDb.clear();
		out.documentsInDb.addAll(l);
	}
}' #txt
Fs0 f236 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>SE_FilesUnlocked</name>
        <nameStyle>16,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f236 3390 182 20 20 13 0 #rect
Fs0 f236 @|RichDialogBroadcastStartIcon #fIcon
Fs0 f258 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f258 3390 238 20 20 13 0 #rect
Fs0 f258 @|RichDialogProcessEndIcon #fIcon
Fs0 f259 expr out #txt
Fs0 f259 3400 202 3400 238 #arcP
Fs0 f260 guid 137BDA50AE088967 #txt
Fs0 f260 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f260 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f260 actionTable 'out=in;
' #txt
Fs0 f260 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileCouple;
import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;
import ch.ivyteam.ivy.richdialog.exec.RdEvent;

RdEvent e = event as RdEvent;
try{
	if(e.getParameter() instanceof java.io.File){
		
			java.io.File file = e.getParameter() as java.io.File;
			in.fileManagementHandler.changeModificationInformations(file, ivy.session.getSessionUserName());
			
			if(in.configurationController.fileActionHistoryConfiguration.editFileTracked)
			{
				try
				{
					long id = Long.parseLong(in.fileManagementHandler.getDocumentOnServer(file.getPath()).fileID);
					in.fileManagementHandler.fileActionHistoryController.createNewActionHistory(id,2, ivy.session.getSessionUserName(),"");
				}catch(Throwable t)
				{
					ivy.log.error("File List Table error: an error occurred while writing file changed history. "+t.getMessage());
				}
			}
	}
	else if(e.getParameter() instanceof FileCouple){
		FileCouple fc = e.getParameter() as FileCouple;
		if(fc.referencedDocumentOnServer!=null){
			//ivy.log.info("doc modified cached "+fc.referencedDocumentOnServer.path+" File on Server "+(fc.getReferencedDocumentOnServer()!=null && fc.getReferencedDocumentOnServer().getJavaFile()!=null?fc.getReferencedDocumentOnServer().getJavaFile().getPath():"NULL"));
			in.fileManagementHandler.saveDocumentOnServer(fc.getReferencedDocumentOnServer(),fc.getReferencedDocumentOnServer().path);
			if(in.configurationController.fileActionHistoryConfiguration.editFileTracked)
			{
				try
				{
					long id = Long.parseLong(fc.getReferencedDocumentOnServer().fileID);
					in.fileManagementHandler.getFileActionHistoryController().createNewActionHistory(id,2,ivy.session.getSessionUserName(),"");
				}catch(Throwable t)
				{
					ivy.log.error("File List Table error: an error occurred while writing file changed history. "+t.getMessage());
				}
			}
		}
	}
	else if(e.getParameter() instanceof DocumentOnServer)
	{
		DocumentOnServer doc = e.getParameter() as DocumentOnServer;
		in.fileManagementHandler.saveDocumentOnServer(doc,doc.path);
		if(in.configurationController.fileActionHistoryConfiguration.editFileTracked)
		{
			try
			{
				long id = Long.parseLong(doc.fileID);
				in.fileManagementHandler.getFileActionHistoryController().createNewActionHistory(id,2,ivy.session.getSessionUserName(),"");
			}catch(Throwable t)
			{
				ivy.log.error("File List table error: an error occurred while writing file changed history. "+t.getMessage());
			}
		}
	}
}catch(Throwable t){
	in.errorUtil.panelId = in.panelId;
	in.errorUtil.errorOccurred=true;
	in.errorUtil.throwable = t;
	in.errorUtil.message =ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/error/errorOccurred")+" changeModificationInformations";
	panel.fireErrorOccurred(in.errorUtil);


}' #txt
Fs0 f260 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fileModified</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f260 2894 766 20 20 13 0 #rect
Fs0 f260 @|RichDialogProcessStartIcon #fIcon
Fs0 f260 -14336|-1|-16777216 #nodeStyle
Fs0 f261 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f261 2894 822 20 20 13 0 #rect
Fs0 f261 @|RichDialogProcessEndIcon #fIcon
Fs0 f262 expr out #txt
Fs0 f262 2904 786 2904 822 #arcP
Fs0 f263 targetWindow NEW:card: #txt
Fs0 f263 targetDisplay TOP #txt
Fs0 f263 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f263 startMethod startAsConfirmDialog(String,String,List<String>,String) #txt
Fs0 f263 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f263 requestActionDecl '<String text, String iconUri, List<String> buttonsList, String defaultPressedButton> param;' #txt
Fs0 f263 requestMappingAction 'param.text=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/question/confirmDeleteFiles");
param.iconUri="/ch/ivyteam/ivy/addons/icons/warning/48";
param.buttonsList=[ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/deleteFiles"),
ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/cancel")];
param.defaultPressedButton=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/deleteFiles");
' #txt
Fs0 f263 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f263 responseMappingAction 'out=in;
out.tmpString=result.pressedButton;
' #txt
Fs0 f263 windowConfiguration '{/title "<%=in.windowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f263 isAsynch false #txt
Fs0 f263 isInnerRd true #txt
Fs0 f263 userContext '* ' #txt
Fs0 f263 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Ask the user to confirm the deletion</name>
        <nameStyle>36,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f263 2806 124 36 24 20 -2 #rect
Fs0 f263 @|RichDialogIcon #fIcon
Fs0 f115 expr out #txt
Fs0 f115 2824 148 2824 170 #arcP
Fs0 f116 targetWindow NEW:card: #txt
Fs0 f116 targetDisplay TOP #txt
Fs0 f116 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f116 startMethod start(String,String) #txt
Fs0 f116 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f116 requestActionDecl '<String text, String iconUri> param;' #txt
Fs0 f116 requestMappingAction 'param.iconUri="/ch/ivyteam/ivy/addons/icons/close/48";
' #txt
Fs0 f116 requestActionCode 'if(!in.errorUtil.message.trim().toLowerCase().startsWith("<html>")){
	param.text="<html>"+in.errorUtil.message+IF(in.#errorUtil.#throwable!=null,"<br>"+in.errorUtil.throwable.getMessage(),"");
}else{
	param.text=in.errorUtil.message+IF(in.#errorUtil.#throwable!=null,"<br>"+in.errorUtil.throwable.getMessage(),"");
}' #txt
Fs0 f116 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f116 responseMappingAction 'out=in;
' #txt
Fs0 f116 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/error\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f116 isAsynch false #txt
Fs0 f116 isInnerRd true #txt
Fs0 f116 userContext '* ' #txt
Fs0 f116 3174 300 36 24 20 -2 #rect
Fs0 f116 @|RichDialogIcon #fIcon
Fs0 f118 expr in #txt
Fs0 f118 outCond 'in.incomingErrorUtil.panelId == in.panelId' #txt
Fs0 f118 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f118 3192 262 3192 300 #arcP
Fs0 f201 expr out #txt
Fs0 f201 3192 324 3192 382 #arcP
Fs0 f204 targetWindow NEW:card: #txt
Fs0 f204 targetDisplay TOP #txt
Fs0 f204 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f204 startMethod startAsConfirmDialog(String,String,List<String>,String) #txt
Fs0 f204 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f204 requestActionDecl '<String text, String iconUri, List<String> buttonsList, String defaultPressedButton> param;' #txt
Fs0 f204 requestMappingAction 'param.iconUri="/ch/ivyteam/ivy/addons/icons/question/48";
param.buttonsList=[ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes"),
ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/no")];
param.defaultPressedButton=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes");
' #txt
Fs0 f204 requestActionCode 'import ch.ivyteam.ivy.addons.filemanager.DocumentOnServer;

param.text=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/question/overwriteExistingFiles").replaceFirst("</html>","");
for(DocumentOnServer doc: in.returnedMessage.documentOnServers){
	param.text+="<br>"+doc.getFilename();
}
param.text+="<br></html>";' #txt
Fs0 f204 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f204 responseMappingAction 'out=in;
out.tmpString=result.pressedButton;
' #txt
Fs0 f204 windowConfiguration '{/title "<%=in.windowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f204 isAsynch false #txt
Fs0 f204 isInnerRd true #txt
Fs0 f204 userContext '* ' #txt
Fs0 f204 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Ask if replace the
existing file on the server</name>
        <nameStyle>46,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f204 1462 692 36 24 -137 -7 #rect
Fs0 f204 @|RichDialogIcon #fIcon
Fs0 f206 expr out #txt
Fs0 f206 1480 668 1480 692 #arcP
Fs0 f71 targetWindow NEW:card: #txt
Fs0 f71 targetDisplay TOP #txt
Fs0 f71 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f71 startMethod start(String,String) #txt
Fs0 f71 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f71 requestActionDecl '<String text, String iconUri> param;' #txt
Fs0 f71 requestActionCode param.text="<html>"+ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/information/filesNotUploadedBecauseLocked"); #txt
Fs0 f71 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f71 responseMappingAction 'out=in;
' #txt
Fs0 f71 windowConfiguration '{/title "<%=in.windowTitle%>"/width 400 /height 150 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f71 isAsynch false #txt
Fs0 f71 isInnerRd true #txt
Fs0 f71 userContext '* ' #txt
Fs0 f71 1654 692 36 24 20 -2 #rect
Fs0 f71 @|RichDialogIcon #fIcon
Fs0 f75 expr out #txt
Fs0 f75 1672 612 1672 692 #arcP
Fs0 f246 targetWindow NEW:card: #txt
Fs0 f246 targetDisplay TOP #txt
Fs0 f246 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f246 startMethod start(String,String) #txt
Fs0 f246 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f246 requestActionDecl '<String text, String iconUri> param;' #txt
Fs0 f246 requestMappingAction 'param.text=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/information/NoFilesUploadedBecauseOverwriteLockedFiles");
' #txt
Fs0 f246 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f246 responseMappingAction 'out=in;
' #txt
Fs0 f246 windowConfiguration '{/title "<%=in.windowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f246 isAsynch false #txt
Fs0 f246 isInnerRd true #txt
Fs0 f246 userContext '* ' #txt
Fs0 f246 1758 740 36 24 20 -2 #rect
Fs0 f246 @|RichDialogIcon #fIcon
Fs0 f248 expr out #txt
Fs0 f248 1776 724 1776 740 #arcP
Fs0 f265 expr out #txt
Fs0 f265 1776 764 1776 782 #arcP
Fs0 f266 targetWindow NEW:card: #txt
Fs0 f266 targetDisplay TOP #txt
Fs0 f266 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f266 startMethod start(String,String) #txt
Fs0 f266 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f266 requestActionDecl '<String text, String iconUri> param;' #txt
Fs0 f266 requestMappingAction 'param.text=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/messages/information/SomeFilesUploadedBecauseOverwriteLockedFiles");
' #txt
Fs0 f266 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f266 responseMappingAction 'out=in;
' #txt
Fs0 f266 windowConfiguration '{/title "<%=in.windowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f266 isAsynch false #txt
Fs0 f266 isInnerRd true #txt
Fs0 f266 userContext '* ' #txt
Fs0 f266 1950 876 36 24 20 -2 #rect
Fs0 f266 @|RichDialogIcon #fIcon
Fs0 f267 expr out #txt
Fs0 f267 1968 836 1968 876 #arcP
Fs0 f244 targetWindow NEW:card: #txt
Fs0 f244 targetDisplay TOP #txt
Fs0 f244 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f244 startMethod startAsConfirmDialog(String,String,List<String>,String) #txt
Fs0 f244 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f244 requestActionDecl '<String text, String iconUri, List<String> buttonsList, String defaultPressedButton> param;' #txt
Fs0 f244 requestMappingAction 'param.text=in.tmpString;
param.iconUri="/ch/ivyteam/ivy/addons/icons/warning/48";
param.buttonsList=[ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes"),
ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/no")];
param.defaultPressedButton=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/no");
' #txt
Fs0 f244 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f244 responseMappingAction 'out=in;
out.tmpString=result.pressedButton;
' #txt
Fs0 f244 windowConfiguration '{/title "<%=in.windowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f244 isAsynch false #txt
Fs0 f244 isInnerRd true #txt
Fs0 f244 userContext '* ' #txt
Fs0 f244 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Ask</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f244 1846 908 36 24 -43 -13 #rect
Fs0 f244 @|RichDialogIcon #fIcon
Fs0 f268 expr out #txt
Fs0 f268 1864 876 1864 908 #arcP
Fs0 f269 expr out #txt
Fs0 f269 1864 932 1864 962 #arcP
Fs0 f69 expr out #txt
Fs0 f69 1480 716 1480 748 #arcP
Fs0 f70 guid 13D97FE8F33E39AA #txt
Fs0 f70 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f70 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f70 actionTable 'out=in;
' #txt
Fs0 f70 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f70 406 662 20 20 13 0 #rect
Fs0 f70 @|RichDialogProcessStartIcon #fIcon
Fs0 f73 expr out #txt
Fs0 f73 407 666 338 620 #arcP
Fs0 f79 expr out #txt
Fs0 f79 1672 716 1594 800 #arcP
Fs0 f79 1 1672 800 #addKink
Fs0 f79 0 0.8255127481724762 0 0 #arcLabel
Fs0 f245 expr out #txt
Fs0 f245 1971 900 2045 1156 #arcP
Fs0 f231 actionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f231 actionTable 'out=in;
' #txt
Fs0 f231 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f231 2806 84 36 24 20 -2 #rect
Fs0 f231 @|RichDialogProcessStepIcon #fIcon
Fs0 f243 expr out #txt
Fs0 f243 2824 74 2824 84 #arcP
Fs0 f247 expr out #txt
Fs0 f247 2824 108 2824 124 #arcP
Fs0 f264 targetWindow NEW:card: #txt
Fs0 f264 targetDisplay TOP #txt
Fs0 f264 richDialogId ch.ivyteam.ivy.addons.filemanager.util.MessageDialog #txt
Fs0 f264 startMethod start(String,String) #txt
Fs0 f264 type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
Fs0 f264 requestActionDecl '<String text, String iconUri> param;' #txt
Fs0 f264 requestMappingAction 'param.iconUri="/ch/ivyteam/ivy/addons/icons/close/48";
' #txt
Fs0 f264 requestActionCode 'param.text=in.returnedMessage.text;
if(in.#returnedMessage.#file!=null) {
	param.text=param.text.replace("</html>","");
	param.text+="<br>"+in.returnedMessage.file.getName();
}
' #txt
Fs0 f264 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData out;
' #txt
Fs0 f264 responseMappingAction 'out=in;
' #txt
Fs0 f264 windowConfiguration '* ' #txt
Fs0 f264 isAsynch false #txt
Fs0 f264 isInnerRd true #txt
Fs0 f264 userContext '* ' #txt
Fs0 f264 1542 364 36 24 20 -2 #rect
Fs0 f264 @|RichDialogIcon #fIcon
Fs0 f270 expr out #txt
Fs0 f270 1560 346 1560 364 #arcP
Fs0 f81 expr out #txt
Fs0 f81 1560 388 1560 411 #arcP
>Proto Fs0 .rdData2UIAction 'panel.enablerTextField.visible=false;
panel.fileListTable.listData=in.documentsInDb;
panel.ToolbarFlowLayoutPane.visible=in.configurationController.toolBarVisible;
' #txt
>Proto Fs0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Start methods</swimlaneLabel>
        <swimlaneLabel>Getters / Setters</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>760</swimlaneSize>
    <swimlaneSize>400</swimlaneSize>
    <swimlaneSize>1272</swimlaneSize>
    <swimlaneSize>664</swimlaneSize>
    <swimlaneColor>-52</swimlaneColor>
    <swimlaneColor>-26215</swimlaneColor>
    <swimlaneColor>-13369345</swimlaneColor>
    <swimlaneColor>-26215</swimlaneColor>
</elementInfo>
' #txt
>Proto Fs0 .type ch.ivyteam.ivy.addons.filemanager.FileListTable.FileListTableData #txt
>Proto Fs0 .processKind RICH_DIALOG #txt
>Proto Fs0 -8 -8 16 16 16 26 #rect
>Proto Fs0 '' #fIcon
Fs0 f0 mainOut f5 tail #connect
Fs0 f5 head f2 mainIn #connect
Fs0 f3 mainOut f6 tail #connect
Fs0 f6 head f2 mainIn #connect
Fs0 f4 mainOut f7 tail #connect
Fs0 f7 head f2 mainIn #connect
Fs0 f9 mainOut f16 tail #connect
Fs0 f16 head f15 mainIn #connect
Fs0 f10 mainOut f18 tail #connect
Fs0 f18 head f17 mainIn #connect
Fs0 f11 mainOut f20 tail #connect
Fs0 f20 head f19 mainIn #connect
Fs0 f12 mainOut f22 tail #connect
Fs0 f22 head f21 mainIn #connect
Fs0 f21 mainOut f24 tail #connect
Fs0 f24 head f23 mainIn #connect
Fs0 f13 mainOut f26 tail #connect
Fs0 f26 head f25 mainIn #connect
Fs0 f25 mainOut f28 tail #connect
Fs0 f28 head f27 mainIn #connect
Fs0 f14 mainOut f32 tail #connect
Fs0 f32 head f31 mainIn #connect
Fs0 f31 mainOut f30 tail #connect
Fs0 f30 head f29 mainIn #connect
Fs0 f43 mainOut f40 tail #connect
Fs0 f40 head f39 mainIn #connect
Fs0 f39 mainOut f44 tail #connect
Fs0 f44 head f42 mainIn #connect
Fs0 f38 mainOut f45 tail #connect
Fs0 f45 head f41 mainIn #connect
Fs0 f59 mainOut f63 tail #connect
Fs0 f63 head f62 in #connect
Fs0 f62 out f65 tail #connect
Fs0 f65 head f64 mainIn #connect
Fs0 f62 out f68 tail #connect
Fs0 f68 head f66 mainIn #connect
Fs0 f72 mainOut f76 tail #connect
Fs0 f76 head f74 mainIn #connect
Fs0 f84 mainOut f87 tail #connect
Fs0 f87 head f86 mainIn #connect
Fs0 f85 mainOut f89 tail #connect
Fs0 f89 head f88 mainIn #connect
Fs0 f88 mainOut f91 tail #connect
Fs0 f91 head f90 mainIn #connect
Fs0 f82 mainOut f93 tail #connect
Fs0 f93 head f92 mainIn #connect
Fs0 f92 mainOut f95 tail #connect
Fs0 f95 head f94 mainIn #connect
Fs0 f83 mainOut f97 tail #connect
Fs0 f97 head f96 mainIn #connect
Fs0 f96 mainOut f99 tail #connect
Fs0 f99 head f98 mainIn #connect
Fs0 f100 mainOut f102 tail #connect
Fs0 f102 head f101 mainIn #connect
Fs0 f103 mainOut f105 tail #connect
Fs0 f105 head f104 mainIn #connect
Fs0 f104 mainOut f107 tail #connect
Fs0 f107 head f106 mainIn #connect
Fs0 f108 mainOut f110 tail #connect
Fs0 f110 head f109 mainIn #connect
Fs0 f111 out f114 tail #connect
Fs0 f114 head f113 mainIn #connect
Fs0 f117 out f112 tail #connect
Fs0 f112 head f111 in #connect
Fs0 f111 out f121 tail #connect
Fs0 f121 head f120 mainIn #connect
Fs0 f117 out f124 tail #connect
Fs0 f124 head f122 mainIn #connect
Fs0 f133 mainOut f136 tail #connect
Fs0 f136 head f135 mainIn #connect
Fs0 f128 mainOut f142 tail #connect
Fs0 f142 head f141 mainIn #connect
Fs0 f141 mainOut f123 tail #connect
Fs0 f123 head f122 mainIn #connect
Fs0 f144 mainOut f147 tail #connect
Fs0 f147 head f146 mainIn #connect
Fs0 f143 mainOut f145 tail #connect
Fs0 f145 head f144 mainIn #connect
Fs0 f148 mainOut f150 tail #connect
Fs0 f150 head f2 mainIn #connect
Fs0 f149 mainOut f151 tail #connect
Fs0 f151 head f2 mainIn #connect
Fs0 f152 mainOut f155 tail #connect
Fs0 f155 head f154 mainIn #connect
Fs0 f153 mainOut f157 tail #connect
Fs0 f157 head f156 mainIn #connect
Fs0 f160 mainOut f67 tail #connect
Fs0 f67 head f66 mainIn #connect
Fs0 f64 mainOut f139 tail #connect
Fs0 f139 head f160 mainIn #connect
Fs0 f140 mainOut f161 tail #connect
Fs0 f161 head f2 mainIn #connect
Fs0 f162 mainOut f164 tail #connect
Fs0 f164 head f163 mainIn #connect
Fs0 f163 mainOut f166 tail #connect
Fs0 f166 head f165 mainIn #connect
Fs0 f49 mainOut f168 tail #connect
Fs0 f168 head f167 mainIn #connect
Fs0 f167 mainOut f51 tail #connect
Fs0 f51 head f50 mainIn #connect
Fs0 f46 mainOut f174 tail #connect
Fs0 f174 head f173 mainIn #connect
Fs0 f173 mainOut f48 tail #connect
Fs0 f48 head f47 mainIn #connect
Fs0 f175 mainOut f177 tail #connect
Fs0 f177 head f176 mainIn #connect
Fs0 f181 mainOut f183 tail #connect
Fs0 f183 head f182 mainIn #connect
Fs0 f182 mainOut f185 tail #connect
Fs0 f185 head f184 mainIn #connect
Fs0 f186 mainOut f189 tail #connect
Fs0 f189 head f188 mainIn #connect
Fs0 f188 mainOut f191 tail #connect
Fs0 f191 head f190 mainIn #connect
Fs0 f187 mainOut f193 tail #connect
Fs0 f193 head f192 mainIn #connect
Fs0 f192 mainOut f195 tail #connect
Fs0 f195 head f194 mainIn #connect
Fs0 f196 mainOut f198 tail #connect
Fs0 f198 head f197 in #connect
Fs0 f205 head f203 mainIn #connect
Fs0 f2 mainOut f200 tail #connect
Fs0 f200 head f199 in #connect
Fs0 f178 mainOut f207 tail #connect
Fs0 f207 head f202 mainIn #connect
Fs0 f202 mainOut f180 tail #connect
Fs0 f180 head f179 mainIn #connect
Fs0 f213 mainOut f216 tail #connect
Fs0 f216 head f215 in #connect
Fs0 f215 out f218 tail #connect
Fs0 f218 head f217 mainIn #connect
Fs0 f815 mainOut f818 tail #connect
Fs0 f818 head f817 in #connect
Fs0 f820 head f819 mainIn #connect
Fs0 f817 out f822 tail #connect
Fs0 f822 head f821 mainIn #connect
Fs0 f817 out f820 tail #connect
Fs0 f824 out f827 tail #connect
Fs0 f827 head f826 mainIn #connect
Fs0 f824 out f829 tail #connect
Fs0 f829 head f828 mainIn #connect
Fs0 f828 mainOut f831 tail #connect
Fs0 f831 head f830 in #connect
Fs0 f215 out f219 tail #connect
Fs0 f219 head f815 mainIn #connect
Fs0 f826 mainOut f220 tail #connect
Fs0 f220 head f217 mainIn #connect
Fs0 f830 out f223 tail #connect
Fs0 f223 head f221 mainIn #connect
Fs0 f830 out f224 tail #connect
Fs0 f224 head f217 mainIn #connect
Fs0 f217 mainOut f226 tail #connect
Fs0 f226 head f225 mainIn #connect
Fs0 f225 mainOut f222 tail #connect
Fs0 f222 head f221 mainIn #connect
Fs0 f212 mainOut f214 tail #connect
Fs0 f214 head f213 mainIn #connect
Fs0 f821 mainOut f228 tail #connect
Fs0 f228 head f227 in #connect
Fs0 f227 out f230 tail #connect
Fs0 f230 head f845 mainIn #connect
Fs0 f227 out f229 tail #connect
Fs0 f229 head f809 mainIn #connect
Fs0 f233 head f232 mainIn #connect
Fs0 f137 mainOut f55 tail #connect
Fs0 f55 head f232 mainIn #connect
Fs0 f33 mainOut f138 tail #connect
Fs0 f138 head f232 mainIn #connect
Fs0 f232 mainOut f234 tail #connect
Fs0 f234 head f132 mainIn #connect
Fs0 f199 out f235 tail #connect
Fs0 f235 head f132 mainIn #connect
Fs0 f199 out f233 tail #connect
Fs0 f60 mainOut f238 tail #connect
Fs0 f238 head f237 mainIn #connect
Fs0 f237 mainOut f240 tail #connect
Fs0 f240 head f239 in #connect
Fs0 f239 out f159 tail #connect
Fs0 f159 head f158 mainIn #connect
Fs0 f239 out f242 tail #connect
Fs0 f242 head f241 mainIn #connect
Fs0 f74 mainOut f250 tail #connect
Fs0 f250 head f249 mainIn #connect
Fs0 f249 mainOut f78 tail #connect
Fs0 f78 head f77 mainIn #connect
Fs0 f251 mainOut f37 tail #connect
Fs0 f37 head f36 mainIn #connect
Fs0 f35 mainOut f254 tail #connect
Fs0 f254 head f253 mainIn #connect
Fs0 f253 mainOut f252 tail #connect
Fs0 f252 head f251 mainIn #connect
Fs0 f113 mainOut f255 tail #connect
Fs0 f255 head f128 mainIn #connect
Fs0 f120 mainOut f54 tail #connect
Fs0 f54 head f128 mainIn #connect
Fs0 f1 mainOut f8 tail #connect
Fs0 f8 head f2 mainIn #connect
Fs0 f169 mainOut f34 tail #connect
Fs0 f34 head f2 mainIn #connect
Fs0 f53 mainOut f57 tail #connect
Fs0 f57 head f56 in #connect
Fs0 f56 out f126 tail #connect
Fs0 f126 head f125 mainIn #connect
Fs0 f56 out f119 tail #connect
Fs0 f119 head f58 mainIn #connect
Fs0 f58 mainOut f129 tail #connect
Fs0 f129 head f127 mainIn #connect
Fs0 f127 mainOut f130 tail #connect
Fs0 f130 head f125 mainIn #connect
Fs0 f131 mainOut f170 tail #connect
Fs0 f170 head f134 mainIn #connect
Fs0 f134 mainOut f172 tail #connect
Fs0 f172 head f171 mainIn #connect
Fs0 f208 mainOut f210 tail #connect
Fs0 f210 head f209 mainIn #connect
Fs0 f211 mainOut f257 tail #connect
Fs0 f257 head f256 mainIn #connect
Fs0 f236 mainOut f259 tail #connect
Fs0 f259 head f258 mainIn #connect
Fs0 f260 mainOut f262 tail #connect
Fs0 f262 head f261 mainIn #connect
Fs0 f263 mainOut f115 tail #connect
Fs0 f115 head f117 in #connect
Fs0 f197 out f118 tail #connect
Fs0 f118 head f116 mainIn #connect
Fs0 f197 out f205 tail #connect
Fs0 f116 mainOut f201 tail #connect
Fs0 f201 head f203 mainIn #connect
Fs0 f158 mainOut f206 tail #connect
Fs0 f206 head f204 mainIn #connect
Fs0 f241 mainOut f75 tail #connect
Fs0 f75 head f71 mainIn #connect
Fs0 f819 mainOut f248 tail #connect
Fs0 f248 head f246 mainIn #connect
Fs0 f246 mainOut f265 tail #connect
Fs0 f265 head f836 mainIn #connect
Fs0 f845 mainOut f267 tail #connect
Fs0 f267 head f266 mainIn #connect
Fs0 f809 mainOut f268 tail #connect
Fs0 f268 head f244 mainIn #connect
Fs0 f244 mainOut f269 tail #connect
Fs0 f269 head f824 in #connect
Fs0 f204 mainOut f69 tail #connect
Fs0 f69 head f72 mainIn #connect
Fs0 f70 mainOut f73 tail #connect
Fs0 f73 head f232 mainIn #connect
Fs0 f71 mainOut f79 tail #connect
Fs0 f79 head f74 mainIn #connect
Fs0 f266 mainOut f245 tail #connect
Fs0 f245 head f217 mainIn #connect
Fs0 f52 mainOut f243 tail #connect
Fs0 f243 head f231 mainIn #connect
Fs0 f231 mainOut f247 tail #connect
Fs0 f247 head f263 mainIn #connect
Fs0 f61 mainOut f270 tail #connect
Fs0 f270 head f264 mainIn #connect
Fs0 f264 mainOut f81 tail #connect
Fs0 f81 head f80 mainIn #connect
