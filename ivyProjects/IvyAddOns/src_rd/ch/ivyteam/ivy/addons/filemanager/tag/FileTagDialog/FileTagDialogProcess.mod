[Ivy]
[>Created: Wed Oct 23 07:58:08 EDT 2013]
138003FAA07A630D 3.17 #module
>Proto >Proto Collection #zClass
Fs0 FileTagDialogProcess Big #zClass
Fs0 RD #cInfo
Fs0 #process
Fs0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Fs0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Fs0 @TextInP .resExport .resExport #zField
Fs0 @TextInP .type .type #zField
Fs0 @TextInP .processKind .processKind #zField
Fs0 @AnnotationInP-0n ai ai #zField
Fs0 @TextInP .xml .xml #zField
Fs0 @TextInP .responsibility .responsibility #zField
Fs0 @RichDialogInitStart f0 '' #zField
Fs0 @RichDialogProcessEnd f1 '' #zField
Fs0 @PushWFArc f2 '' #zField
Fs0 @RichDialogInitStart f3 '' #zField
Fs0 @RichDialogProcessStep f4 '' #zField
Fs0 @RichDialogProcessEnd f6 '' #zField
Fs0 @RichDialogProcessStep f7 '' #zField
Fs0 @PushWFArc f8 '' #zField
Fs0 @RichDialogMethodStart f9 '' #zField
Fs0 @RichDialogProcessStep f47 '' #zField
Fs0 @PushWFArc f10 '' #zField
Fs0 @PushWFArc f11 '' #zField
Fs0 @RichDialog f43 '' #zField
Fs0 @PushWFArc f12 '' #zField
Fs0 @RichDialogProcessEnd f13 '' #zField
Fs0 @PushWFArc f14 '' #zField
Fs0 @RichDialogProcessStart f15 '' #zField
Fs0 @RichDialogProcessStart f16 '' #zField
Fs0 @RichDialogProcessStart f17 '' #zField
Fs0 @PushWFArc f18 '' #zField
Fs0 @RichDialogProcessStart f19 '' #zField
Fs0 @RichDialogProcessStep f20 '' #zField
Fs0 @RichDialogMethodStart f22 '' #zField
Fs0 @PushWFArc f23 '' #zField
Fs0 @RichDialogProcessStep f24 '' #zField
Fs0 @PushWFArc f25 '' #zField
Fs0 @RichDialogProcessEnd f26 '' #zField
Fs0 @PushWFArc f27 '' #zField
Fs0 @RichDialog f54 '' #zField
Fs0 @PushWFArc f28 '' #zField
Fs0 @Alternative f21 '' #zField
Fs0 @PushWFArc f29 '' #zField
Fs0 @PushWFArc f30 '' #zField
Fs0 @PushWFArc f31 '' #zField
Fs0 @RichDialogProcessStart f32 '' #zField
Fs0 @RichDialogEnd f33 '' #zField
Fs0 @PushWFArc f34 '' #zField
Fs0 @RichDialogProcessStep f35 '' #zField
Fs0 @PushWFArc f36 '' #zField
Fs0 @RichDialogProcessEnd f37 '' #zField
Fs0 @PushWFArc f38 '' #zField
Fs0 @RichDialogProcessEnd f39 '' #zField
Fs0 @Alternative f41 '' #zField
Fs0 @PushWFArc f5 '' #zField
Fs0 @RichDialogProcessStep f44 '' #zField
Fs0 @PushWFArc f45 '' #zField
Fs0 @PushWFArc f42 '' #zField
Fs0 @RichDialog f46 '' #zField
Fs0 @PushWFArc f48 '' #zField
Fs0 @RichDialogEnd f49 '' #zField
Fs0 @PushWFArc f50 '' #zField
Fs0 @RichDialog f51 '' #zField
Fs0 @PushWFArc f52 '' #zField
Fs0 @RichDialogProcessStep f40 '' #zField
Fs0 @PushWFArc f53 '' #zField
Fs0 @PushWFArc f55 '' #zField
Fs0 @RichDialogProcessStart f56 '' #zField
Fs0 @RichDialog f57 '' #zField
Fs0 @PushWFArc f58 '' #zField
Fs0 @RichDialogProcessStep f59 '' #zField
Fs0 @PushWFArc f60 '' #zField
Fs0 @RichDialogProcessEnd f61 '' #zField
Fs0 @PushWFArc f62 '' #zField
>Proto Fs0 Fs0 FileTagDialogProcess #zField
Fs0 f0 guid 138003FAA24FE299 #txt
Fs0 f0 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f0 method start() #txt
Fs0 f0 disableUIEvents true #txt
Fs0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Fs0 f0 outParameterDecl '<> result;
' #txt
Fs0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
Fs0 f0 86 54 20 20 13 0 #rect
Fs0 f0 @|RichDialogInitStartIcon #fIcon
Fs0 f1 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f1 86 150 20 20 13 0 #rect
Fs0 f1 @|RichDialogProcessEndIcon #fIcon
Fs0 f2 expr out #txt
Fs0 f2 96 74 96 150 #arcP
Fs0 f3 guid 1380042AD1ECCC7C #txt
Fs0 f3 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f3 method start(ch.ivyteam.ivy.addons.filemanager.configuration.BasicConfigurationController,ch.ivyteam.ivy.addons.filemanager.DocumentOnServer,Boolean) #txt
Fs0 f3 disableUIEvents true #txt
Fs0 f3 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.addons.filemanager.configuration.BasicConfigurationController configurationController,ch.ivyteam.ivy.addons.filemanager.DocumentOnServer parentDocument,java.lang.Boolean allowEdit> param = methodEvent.getInputArguments();
' #txt
Fs0 f3 inParameterMapAction 'out.allowEdit=param.allowEdit;
out.configurationController=param.configurationController;
out.parentDocumentOnServer=param.parentDocument;
' #txt
Fs0 f3 outParameterDecl '<> result;
' #txt
Fs0 f3 embeddedRdInitializations '* ' #txt
Fs0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(BasicConfigurationController,
DocumentOnServer, Boolean)</name>
        <nameStyle>62,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f3 214 54 20 20 13 0 #rect
Fs0 f3 @|RichDialogInitStartIcon #fIcon
Fs0 f4 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f4 actionTable 'out=in;
' #txt
Fs0 f4 actionCode 'import ch.ivyteam.ivy.addons.filemanager.database.filetag.FileTagsController;

out.fileTagController = new FileTagsController(in.configurationController);
panel.titelLabel.setText(ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileTags/titleLabel")+" "+ in.parentDocumentOnServer.filename);' #txt
Fs0 f4 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f4 206 212 36 24 20 -2 #rect
Fs0 f4 @|RichDialogProcessStepIcon #fIcon
Fs0 f6 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f6 214 374 20 20 13 0 #rect
Fs0 f6 @|RichDialogProcessEndIcon #fIcon
Fs0 f7 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f7 actionTable 'out=in;
' #txt
Fs0 f7 actionCode 'in.errorUtil.errorOccurred=false;
try{
	out.selectedTag = null;
	out.tagsList = in.fileTagController.getFileTags(Long.parseLong(in.parentDocumentOnServer.fileID));
}catch(Throwable t)
{
	out.errorUtil.errorOccurred=true;
	out.errorUtil.throwable=t;
	out.errorUtil.message="Error: "+t.getMessage();
}' #txt
Fs0 f7 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f7 206 260 36 24 20 -2 #rect
Fs0 f7 @|RichDialogProcessStepIcon #fIcon
Fs0 f8 expr out #txt
Fs0 f8 224 236 224 260 #arcP
Fs0 f9 guid 138004AF210C1A1E #txt
Fs0 f9 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f9 method showError() #txt
Fs0 f9 disableUIEvents false #txt
Fs0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showError()</name>
    </language>
</elementInfo>
' #txt
Fs0 f9 214 430 20 20 13 0 #rect
Fs0 f9 @|RichDialogMethodStartIcon #fIcon
Fs0 f47 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f47 actionTable 'out=in;
' #txt
Fs0 f47 actionCode 'if(in.errorUtil.errorOccurred)
{
	panel.showError();
}' #txt
Fs0 f47 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f47 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if error show error</name>
        <nameStyle>19
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f47 206 316 36 24 20 -2 #rect
Fs0 f47 @|RichDialogProcessStepIcon #fIcon
Fs0 f10 expr out #txt
Fs0 f10 224 284 224 316 #arcP
Fs0 f11 expr out #txt
Fs0 f11 224 340 224 374 #arcP
Fs0 f43 targetWindow NEW:card: #txt
Fs0 f43 targetDisplay TOP #txt
Fs0 f43 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Fs0 f43 startMethod showError(ch.ivyteam.ivy.addons.data.technical.IvyResultStatus,Boolean,Boolean) #txt
Fs0 f43 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f43 requestActionDecl '<ch.ivyteam.ivy.addons.data.technical.IvyResultStatus ivyResultStatus, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Fs0 f43 requestMappingAction 'param.ivyResultStatus.detail=in.errorUtil.throwable.getMessage();
param.ivyResultStatus.javaException=in.errorUtil.throwable;
param.ivyResultStatus.message=in.errorUtil.message;
param.ivyResultStatus.successful=false;
' #txt
Fs0 f43 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f43 responseMappingAction 'out=in;
' #txt
Fs0 f43 windowConfiguration '{/title "Error"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f43 isAsynch false #txt
Fs0 f43 isInnerRd true #txt
Fs0 f43 userContext '* ' #txt
Fs0 f43 206 484 36 24 20 -2 #rect
Fs0 f43 @|RichDialogIcon #fIcon
Fs0 f12 expr out #txt
Fs0 f12 224 450 224 484 #arcP
Fs0 f13 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f13 214 542 20 20 13 0 #rect
Fs0 f13 @|RichDialogProcessEndIcon #fIcon
Fs0 f14 expr out #txt
Fs0 f14 224 508 224 542 #arcP
Fs0 f15 guid 138004C6FA62D92B #txt
Fs0 f15 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f15 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f15 actionTable 'out=in;
' #txt
Fs0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>editSelectedTag</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f15 502 54 20 20 -41 -32 #rect
Fs0 f15 @|RichDialogProcessStartIcon #fIcon
Fs0 f16 guid 138004CC42635095 #txt
Fs0 f16 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f16 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f16 actionTable 'out=in;
' #txt
Fs0 f16 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selectionChanged</name>
        <nameStyle>16,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f16 694 366 20 20 13 0 #rect
Fs0 f16 @|RichDialogProcessStartIcon #fIcon
Fs0 f17 guid 138004CFF612829D #txt
Fs0 f17 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f17 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f17 actionTable 'out=in;
' #txt
Fs0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f17 382 262 20 20 13 0 #rect
Fs0 f17 @|RichDialogProcessStartIcon #fIcon
Fs0 f18 expr out #txt
Fs0 f18 382 272 242 272 #arcP
Fs0 f19 guid 138004D47F044C7F #txt
Fs0 f19 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f19 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f19 actionTable 'out=in;
' #txt
Fs0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>deleteSelectedTag</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f19 694 54 20 20 13 0 #rect
Fs0 f19 @|RichDialogProcessStartIcon #fIcon
Fs0 f20 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f20 actionTable 'out=in;
' #txt
Fs0 f20 actionCode 'in.errorUtil.errorOccurred=false;
try{
	in.fileTagController.deleteTag(in.selectedTag.id);
}catch(Throwable t)
{
	out.errorUtil.errorOccurred=true;
	out.errorUtil.throwable=t;
	out.errorUtil.message="Error: "+t.getMessage();
}
panel.refresh();' #txt
Fs0 f20 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f20 686 204 36 24 20 -2 #rect
Fs0 f20 @|RichDialogProcessStepIcon #fIcon
Fs0 f22 guid 138004E968C50168 #txt
Fs0 f22 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f22 method refresh() #txt
Fs0 f22 disableUIEvents false #txt
Fs0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh()</name>
    </language>
</elementInfo>
' #txt
Fs0 f22 382 302 20 20 13 0 #rect
Fs0 f22 @|RichDialogMethodStartIcon #fIcon
Fs0 f23 expr out #txt
Fs0 f23 382 309 242 276 #arcP
Fs0 f24 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f24 actionTable 'out=in;
' #txt
Fs0 f24 actionCode 'if(in.errorUtil.errorOccurred)
{
	panel.showError();
}' #txt
Fs0 f24 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if error show error</name>
        <nameStyle>19
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f24 686 252 36 24 20 -2 #rect
Fs0 f24 @|RichDialogProcessStepIcon #fIcon
Fs0 f25 expr out #txt
Fs0 f25 704 228 704 252 #arcP
Fs0 f26 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f26 694 302 20 20 13 0 #rect
Fs0 f26 @|RichDialogProcessEndIcon #fIcon
Fs0 f27 expr out #txt
Fs0 f27 704 276 704 302 #arcP
Fs0 f54 targetWindow NEW:card: #txt
Fs0 f54 targetDisplay TOP #txt
Fs0 f54 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Fs0 f54 startMethod askQuestionWithTitle(String,String,String,List<String>) #txt
Fs0 f54 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f54 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons> param;' #txt
Fs0 f54 requestMappingAction 'param.questionTitle=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/Warning");
param.questionText=ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileTags/deleteFileTag");
param.buttons=[ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/yes"),
ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/no")];
' #txt
Fs0 f54 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f54 responseMappingAction 'out=in;
out.modCancelled=result.pressedButton.equalsIgnoreCase(ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileManagement/buttonLabels/no"));
' #txt
Fs0 f54 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/addons/filemanager/fileManagement/windowTitles/question\")%>"/width 300 /height 100 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f54 isAsynch false #txt
Fs0 f54 isInnerRd true #txt
Fs0 f54 userContext '* ' #txt
Fs0 f54 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ask if sure</name>
        <nameStyle>11
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f54 686 100 36 24 20 -2 #rect
Fs0 f54 @|RichDialogIcon #fIcon
Fs0 f28 expr out #txt
Fs0 f28 704 74 704 100 #arcP
Fs0 f21 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancelled?</name>
        <nameStyle>10
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f21 690 138 28 28 14 0 #rect
Fs0 f21 @|AlternativeIcon #fIcon
Fs0 f29 expr out #txt
Fs0 f29 704 124 704 138 #arcP
Fs0 f30 expr in #txt
Fs0 f30 outCond in.modCancelled #txt
Fs0 f30 718 152 714 312 #arcP
Fs0 f30 1 848 152 #addKink
Fs0 f30 2 848 312 #addKink
Fs0 f30 1 0.24493176787180715 0 0 #arcLabel
Fs0 f31 expr in #txt
Fs0 f31 704 166 704 204 #arcP
Fs0 f32 guid 138005455C35D343 #txt
Fs0 f32 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f32 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f32 actionTable 'out=in;
' #txt
Fs0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close</name>
        <nameStyle>5,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f32 886 366 20 20 13 0 #rect
Fs0 f32 @|RichDialogProcessStartIcon #fIcon
Fs0 f33 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f33 guid 13800547D3A14878 #txt
Fs0 f33 886 430 20 20 13 0 #rect
Fs0 f33 @|RichDialogEndIcon #fIcon
Fs0 f34 expr out #txt
Fs0 f34 896 386 896 430 #arcP
Fs0 f35 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f35 actionTable 'out=in;
' #txt
Fs0 f35 actionCode 'import ch.ivyteam.ivy.addons.filemanager.FileTag;
if(panel.#tagsTable.#selectedListEntry!=null && panel.tagsTable.selectedListEntry instanceof FileTag)
{
	out.selectedTag = panel.tagsTable.selectedListEntry as FileTag;
}else{
	out.selectedTag = null;
}' #txt
Fs0 f35 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f35 686 412 36 24 20 -2 #rect
Fs0 f35 @|RichDialogProcessStepIcon #fIcon
Fs0 f36 expr out #txt
Fs0 f36 704 386 704 412 #arcP
Fs0 f37 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f37 694 462 20 20 13 0 #rect
Fs0 f37 @|RichDialogProcessEndIcon #fIcon
Fs0 f38 expr out #txt
Fs0 f38 704 436 704 462 #arcP
Fs0 f39 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f39 502 222 20 20 13 0 #rect
Fs0 f39 @|RichDialogProcessEndIcon #fIcon
Fs0 f41 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f41 210 154 28 28 14 0 #rect
Fs0 f41 @|AlternativeIcon #fIcon
Fs0 f5 expr in #txt
Fs0 f5 outCond !in.errorUtil.errorOccurred #txt
Fs0 f5 224 182 224 212 #arcP
Fs0 f44 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f44 actionTable 'out=in;
' #txt
Fs0 f44 actionCode 'try{
	//if the document is null or the id is not valid, then an exception is thrown
	long id = Long.parseLong(in.parentDocumentOnServer.fileID);
}catch(Throwable t)
{//catch the Exception
	out.errorUtil.errorOccurred=true;
	out.errorUtil.message = ivy.cms.co("/ch/ivyteam/ivy/addons/filemanager/fileTags/errorInvalidDocumentId");
	out.errorUtil.throwable = t;
}' #txt
Fs0 f44 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f44 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Check DocumentOnServer</name>
        <nameStyle>22
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f44 206 108 36 24 20 -2 #rect
Fs0 f44 @|RichDialogProcessStepIcon #fIcon
Fs0 f45 expr out #txt
Fs0 f45 224 74 224 108 #arcP
Fs0 f42 expr out #txt
Fs0 f42 224 132 224 154 #arcP
Fs0 f46 targetWindow NEW:card: #txt
Fs0 f46 targetDisplay TOP #txt
Fs0 f46 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Fs0 f46 startMethod showError(ch.ivyteam.ivy.addons.data.technical.IvyResultStatus,Boolean,Boolean) #txt
Fs0 f46 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f46 requestActionDecl '<ch.ivyteam.ivy.addons.data.technical.IvyResultStatus ivyResultStatus, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Fs0 f46 requestMappingAction 'param.ivyResultStatus.detail=in.errorUtil.throwable.getMessage();
param.ivyResultStatus.javaException=in.errorUtil.throwable;
param.ivyResultStatus.message=in.errorUtil.message;
param.ivyResultStatus.successful=false;
' #txt
Fs0 f46 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f46 responseMappingAction 'out=in;
' #txt
Fs0 f46 windowConfiguration '{/title "Error"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f46 isAsynch false #txt
Fs0 f46 isInnerRd true #txt
Fs0 f46 userContext '* ' #txt
Fs0 f46 134 188 36 24 20 -2 #rect
Fs0 f46 @|RichDialogIcon #fIcon
Fs0 f48 expr in #txt
Fs0 f48 210 168 152 188 #arcP
Fs0 f48 1 152 168 #addKink
Fs0 f48 0 0.7414335424923689 0 0 #arcLabel
Fs0 f49 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f49 guid 138006369AC740D0 #txt
Fs0 f49 142 254 20 20 13 0 #rect
Fs0 f49 @|RichDialogEndIcon #fIcon
Fs0 f50 expr out #txt
Fs0 f50 152 212 152 254 #arcP
Fs0 f51 targetWindow NEW:card: #txt
Fs0 f51 targetDisplay TOP #txt
Fs0 f51 richDialogId ch.ivyteam.ivy.addons.filemanager.tag.FileTagWriter #txt
Fs0 f51 startMethod start(ch.ivyteam.ivy.addons.filemanager.FileTag,String) #txt
Fs0 f51 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f51 requestActionDecl '<ch.ivyteam.ivy.addons.filemanager.FileTag fileTag, String parentDocumentName> param;' #txt
Fs0 f51 requestMappingAction 'param.fileTag=in.selectedTag.clone();
param.parentDocumentName=in.parentDocumentOnServer.filename;
' #txt
Fs0 f51 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f51 responseMappingAction 'out=in;
' #txt
Fs0 f51 responseActionCode 'if(!result.actionCancelled && result.#fileTag!=null && result.fileTag.tag.trim().length()>0)
{
	in.errorUtil.errorOccurred=false;
	
	try{
		in.fileTagController.modifyTag(result.fileTag.id,result.fileTag.tag);
		panel.refresh();
	}catch(Throwable t)
	{
		out.errorUtil.errorOccurred=true;
		out.errorUtil.throwable=t;
		out.errorUtil.message="Error: "+t.getMessage();
	}
}' #txt
Fs0 f51 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/addons/filemanager/fileTags/fileTagWriter\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f51 isAsynch false #txt
Fs0 f51 isInnerRd true #txt
Fs0 f51 userContext '* ' #txt
Fs0 f51 494 108 36 24 20 -2 #rect
Fs0 f51 @|RichDialogIcon #fIcon
Fs0 f52 expr out #txt
Fs0 f52 512 74 512 108 #arcP
Fs0 f40 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f40 actionTable 'out=in;
' #txt
Fs0 f40 actionCode 'if(in.errorUtil.errorOccurred)
{
	panel.showError();
}' #txt
Fs0 f40 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if error show error</name>
        <nameStyle>19
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f40 494 164 36 24 20 -2 #rect
Fs0 f40 @|RichDialogProcessStepIcon #fIcon
Fs0 f53 expr out #txt
Fs0 f53 512 132 512 164 #arcP
Fs0 f55 expr out #txt
Fs0 f55 512 188 512 222 #arcP
Fs0 f56 guid 1380082F73479E4D #txt
Fs0 f56 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f56 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f56 actionTable 'out=in;
' #txt
Fs0 f56 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>new Tag</name>
        <nameStyle>7,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f56 502 286 20 20 13 0 #rect
Fs0 f56 @|RichDialogProcessStartIcon #fIcon
Fs0 f57 targetWindow NEW:card: #txt
Fs0 f57 targetDisplay TOP #txt
Fs0 f57 richDialogId ch.ivyteam.ivy.addons.filemanager.tag.FileTagWriter #txt
Fs0 f57 startMethod start(ch.ivyteam.ivy.addons.filemanager.FileTag,String) #txt
Fs0 f57 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f57 requestActionDecl '<ch.ivyteam.ivy.addons.filemanager.FileTag fileTag, String parentDocumentName> param;' #txt
Fs0 f57 requestMappingAction 'param.fileTag.id=0;
param.fileTag.tag="";
param.parentDocumentName=in.parentDocumentOnServer.filename;
' #txt
Fs0 f57 responseActionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f57 responseMappingAction 'out=in;
' #txt
Fs0 f57 responseActionCode 'if(!result.actionCancelled)
{
	in.errorUtil.errorOccurred=false;
	
	try{
		in.fileTagController.createTag(Long.parseLong(in.parentDocumentOnServer.fileID),result.fileTag.tag);
		panel.refresh();
	}catch(Throwable t)
	{
		out.errorUtil.errorOccurred=true;
		out.errorUtil.throwable=t;
		out.errorUtil.message="Error: "+t.getMessage();
	}
}' #txt
Fs0 f57 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/addons/filemanager/fileTags/fileTagWriter\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Fs0 f57 isAsynch false #txt
Fs0 f57 isInnerRd true #txt
Fs0 f57 userContext '* ' #txt
Fs0 f57 494 340 36 24 20 -2 #rect
Fs0 f57 @|RichDialogIcon #fIcon
Fs0 f58 expr out #txt
Fs0 f58 512 306 512 340 #arcP
Fs0 f59 actionDecl 'ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData out;
' #txt
Fs0 f59 actionTable 'out=in;
' #txt
Fs0 f59 actionCode 'if(in.errorUtil.errorOccurred)
{
	panel.showError();
}' #txt
Fs0 f59 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f59 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if error show error</name>
        <nameStyle>19
</nameStyle>
    </language>
</elementInfo>
' #txt
Fs0 f59 494 388 36 24 20 -2 #rect
Fs0 f59 @|RichDialogProcessStepIcon #fIcon
Fs0 f60 expr out #txt
Fs0 f60 512 364 512 388 #arcP
Fs0 f61 type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
Fs0 f61 502 446 20 20 13 0 #rect
Fs0 f61 @|RichDialogProcessEndIcon #fIcon
Fs0 f62 expr out #txt
Fs0 f62 512 412 512 446 #arcP
>Proto Fs0 .rdData2UIAction 'panel.deleteButton.enabled=in.#selectedTag !=null && in.selectedTag.id>0;
panel.deleteButton.visible=in.allowEdit;
panel.editButton.enabled=in.#selectedTag !=null && in.selectedTag.id>0;
panel.editButton.visible=in.allowEdit;
panel.newButton.visible=in.allowEdit;
panel.tagsTable.listData=in.tagsList;
' #txt
>Proto Fs0 .type ch.ivyteam.ivy.addons.filemanager.tag.FileTagDialog.FileTagDialogData #txt
>Proto Fs0 .processKind RICH_DIALOG #txt
>Proto Fs0 -8 -8 16 16 16 26 #rect
>Proto Fs0 '' #fIcon
Fs0 f0 mainOut f2 tail #connect
Fs0 f2 head f1 mainIn #connect
Fs0 f4 mainOut f8 tail #connect
Fs0 f8 head f7 mainIn #connect
Fs0 f7 mainOut f10 tail #connect
Fs0 f10 head f47 mainIn #connect
Fs0 f47 mainOut f11 tail #connect
Fs0 f11 head f6 mainIn #connect
Fs0 f9 mainOut f12 tail #connect
Fs0 f12 head f43 mainIn #connect
Fs0 f43 mainOut f14 tail #connect
Fs0 f14 head f13 mainIn #connect
Fs0 f17 mainOut f18 tail #connect
Fs0 f18 head f7 mainIn #connect
Fs0 f22 mainOut f23 tail #connect
Fs0 f23 head f7 mainIn #connect
Fs0 f20 mainOut f25 tail #connect
Fs0 f25 head f24 mainIn #connect
Fs0 f24 mainOut f27 tail #connect
Fs0 f27 head f26 mainIn #connect
Fs0 f19 mainOut f28 tail #connect
Fs0 f28 head f54 mainIn #connect
Fs0 f54 mainOut f29 tail #connect
Fs0 f29 head f21 in #connect
Fs0 f21 out f30 tail #connect
Fs0 f30 head f26 mainIn #connect
Fs0 f21 out f31 tail #connect
Fs0 f31 head f20 mainIn #connect
Fs0 f32 mainOut f34 tail #connect
Fs0 f34 head f33 mainIn #connect
Fs0 f16 mainOut f36 tail #connect
Fs0 f36 head f35 mainIn #connect
Fs0 f35 mainOut f38 tail #connect
Fs0 f38 head f37 mainIn #connect
Fs0 f41 out f5 tail #connect
Fs0 f5 head f4 mainIn #connect
Fs0 f3 mainOut f45 tail #connect
Fs0 f45 head f44 mainIn #connect
Fs0 f44 mainOut f42 tail #connect
Fs0 f42 head f41 in #connect
Fs0 f41 out f48 tail #connect
Fs0 f48 head f46 mainIn #connect
Fs0 f46 mainOut f50 tail #connect
Fs0 f50 head f49 mainIn #connect
Fs0 f15 mainOut f52 tail #connect
Fs0 f52 head f51 mainIn #connect
Fs0 f51 mainOut f53 tail #connect
Fs0 f53 head f40 mainIn #connect
Fs0 f40 mainOut f55 tail #connect
Fs0 f55 head f39 mainIn #connect
Fs0 f56 mainOut f58 tail #connect
Fs0 f58 head f57 mainIn #connect
Fs0 f57 mainOut f60 tail #connect
Fs0 f60 head f59 mainIn #connect
Fs0 f59 mainOut f62 tail #connect
Fs0 f62 head f61 mainIn #connect
